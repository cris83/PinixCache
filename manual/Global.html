

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pinix Cache Online Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PINIX Cache Docs  documentation" href="index.html"/>
        <link rel="next" title="Origin" href="Origin.html"/>
        <link rel="prev" title="Welcome to the PINIX Cache Docs!" href="index.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side" style="overflow: hidden;">
      <div class="wy-side-scroll" >
        <div class="wy-side-nav-search" style="background-color: #333333;">
          

            <img src="../images/logo.png" style="background-color: #333333; width: 80px; height: 40px; border-radius: 0% !important; margin-bottom: 5px;" />
			<span><strong><a href="index.html" style="color: white;">Online Manual</a></strong></span>
			<span><br /></span>
			<span style="margin-top: 3px; margin-bottom: 5px;">&nbsp;</span>
            <!--<a href="index.html" class="icon icon-home"> PINIX Cache Docs-->

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Global</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#global-process">1. Global Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pinix-process-user">1.1 PINIX Process User</a></li>
<li class="toctree-l3"><a class="reference internal" href="#worker-process-count">1.2 Worker Process Count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#access-log-file-path">1.3 Access log File Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-format">1.4 Log format</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#proxy">2. Proxy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temporary-cache-path">2.1 Temporary Cache Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cache-path-list-config">2.2 Cache Path List &amp; Config</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#server-access-control">3. Server Access Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cluster">4. Cluster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Origin.html">Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="VHost.html">VHost</a></li>
<li class="toctree-l1"><a class="reference internal" href="VHost-Proxy.html">Virtual Host Proxy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PINIX Cache Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Global</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Global.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="global">
<h1>Global<a class="headerlink" href="#global" title="Permalink to this headline">¶</a></h1>
<p>PINIX 기본 동작에 필요한 전역 환경 설정을 지정하는 항목이며, 해당 항목을 통해 지정된 설정은 특정 서비스에 종속되지 않고 서비스 전역에 반영된다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Default Path : /etc/pinix/conf
- Configuration File: pinix.json
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : global &amp; main
- Type    : json object
</pre></div>
</div>
<p>* Main Syntax</p>
<div class="highlight-python"><div class="highlight"><pre>{
    // Pinix Global Section
    &quot;[global-key-1]&quot; : &quot;[string]&quot;,
    &quot;[global-key-2]&quot; : &quot;[string]&quot;

        ...

    // Pinix Main Conf Section
    &quot;main&quot; :
    {
        ...
    }
}
</pre></div>
</div>
<div class="section" id="global-process">
<h2>1. Global Process<a class="headerlink" href="#global-process" title="Permalink to this headline">¶</a></h2>
<p>PINIX 기본동작에 필요한 사용자 및 로그형식 등의 항목을 설정하는
그룹이다.</p>
<div class="section" id="pinix-process-user">
<h3>1.1 PINIX Process User<a class="headerlink" href="#pinix-process-user" title="Permalink to this headline">¶</a></h3>
<p>리눅스 기반 시스템에서 pinix 프로세스의 사용자 이름을 지정한다. 사용자의
이름을 지정 후, 캐시 솔루션 정보 RELOAD(또는 RESTART) 작업을 수행할 시
PINIX의 Woker process는 지정된 사용자의 이름으로 재 실행된다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : user
- Type    : json string
- Location: global
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;user&quot;</span> <span class="p">:</span> <span class="s">&quot;root&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="worker-process-count">
<h3>1.2 Worker Process Count<a class="headerlink" href="#worker-process-count" title="Permalink to this headline">¶</a></h3>
<p>PINIX를 구성하는 Woker Process의 수를 지정한다. 기본값은 ‘auto’이며
PINIX에서 H/W성능을 고려한 최적의 수로 기동한다. 운영자가 직접 입력할
경우 일반적으로 CPU-Core의 배수 값을 권장한다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : worker_processes
- Type    : json string
- Location: global
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &quot;worker_processes&quot; : &quot;auto&quot;
}
or
{
    &quot;worker_processes&quot; : &quot;8&quot;    //&lt;- CPU-Core x 2
}
</pre></div>
</div>
</div>
<div class="section" id="access-log-file-path">
<h3>1.3 Access log File Path<a class="headerlink" href="#access-log-file-path" title="Permalink to this headline">¶</a></h3>
<p>PINIX의 로그경로 및 파일이름을 지정한다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : access_log
- Type    : json string
- Location: main, vhost
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;access_log&quot;</span> <span class="p">:</span> <span class="s">&quot;/var/log/pinix/access.log&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="log-format">
<h3>1.4 Log format<a class="headerlink" href="#log-format" title="Permalink to this headline">¶</a></h3>
<p>각 서비스 모니터링에 필요한 로그 출력 형태를 설정한다. Log Format
Group을 추가/수정하여 세부적으로 로그를 남길 항목들을 설정 할 수 있으며,
지정한 로그 항목들의 노출 순서를 지정할 수 있다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : log_format
- Type    : json array
- Location: main
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre>&quot;log_format&quot; :
[
    // Array - 0
    {
        &quot;name&quot; : &quot;main&quot;,
        &quot;values&quot; :
        [
            &quot;milliseconds&quot;,
            &quot;request_time&quot;,
            &quot;remote_addr&quot;,
            &quot;upstream_cache_status&quot;,
            &quot;status&quot;,
            &quot;bytes_sent&quot;,
            &quot;request_method&quot;,
            &quot;url&quot;,                          //&lt;- http://Request URL
            &quot;remote_user&quot;,
            &quot;sent_http_content_type&quot;,
            &quot;http_user_agent&quot;,
            &quot;document_uri&quot;,
            &quot;http_referer&quot;,
            &quot;http_range&quot;,
            &quot;http_cache_hierarchy&quot;,
            &quot;http_cache_backend&quot;,
            &quot;sent_http_content_length&quot;,
            &quot;upstream_addr&quot;,
            &quot;upstream_response_time&quot;,
            &quot;request_length&quot;,
            &quot;connection&quot;,
            &quot;connection_requests&quot;,
            &quot;pipe&quot;,
            &quot;time_local&quot;
        ]
    },
    // Array - 1
    {
        &quot;name&quot; : &quot;user_log&quot;,
        &quot;values&quot; : [ &quot;milliseconds&quot;, &quot;request_time&quot;, &quot;status&quot;, &quot;bytes_sent&quot; ]
    }
]
</pre></div>
</div>
</div>
</div>
<div class="section" id="proxy">
<h2>2. Proxy<a class="headerlink" href="#proxy" title="Permalink to this headline">¶</a></h2>
<p>각 서비스(가상호스트)에서 사용할 캐싱 서비스 영역 및 설정을 관리한다.</p>
<div class="section" id="temporary-cache-path">
<h3>2.1 Temporary Cache Path<a class="headerlink" href="#temporary-cache-path" title="Permalink to this headline">¶</a></h3>
<p>캐싱 중인 컨텐츠는 임시로 저장되는데, 그 경로를 설정한다</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : temp_path
- Type    : json string
- Location: main
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;temp_path&quot;</span> <span class="p">:</span> <span class="s">&quot;/data/pinix/proxy_temp_dir&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cache-path-list-config">
<h3>2.2 Cache Path List &amp; Config<a class="headerlink" href="#cache-path-list-config" title="Permalink to this headline">¶</a></h3>
<p>서비스 캐시의 디스크 경로를 지정한다. 캐싱이 완료된 컨텐츠는
임시경로에서 캐시경로로 이동하는데, 그 경로를 설정한다. 경로로 지정되는
디스크 경로는 PINIX가 읽고 쓸 수 있는 권한이 있어야 한다.</p>
<div class="highlight-python"><div class="highlight"><pre>- path : 캐싱된 컨텐층의 경로 설정
- Keyzone Name : 해당 캐시 저장 영역의 고유이름 설정
- Key hash size : 캐시 대상의 키 값 사이즈를 설정
- inActive :캐시 설정파일의 활성화 시간을 설정
- Max Size : 캐시 저장 영역의 물리적 허용 디스크 크기를 설정
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : cache_path
- Type    : json array
- Location: main
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &quot;cache_path&quot; :
    [
        // Array - 0
        {
            &quot;path&quot; :&quot;/data/pinix/proxy_cache_dir&quot;,
            &quot;levels&quot; : &quot;1:2&quot;,                           //&lt;- 기본값
            &quot;keyszone_name&quot; : &quot;cache_one&quot;,
            &quot;keyshash_size&quot; : &quot;500m&quot;,
            &quot;inactive&quot; : &quot;1d&quot;,
            &quot;max_size&quot; : &quot;7000g&quot;
        },
        // Array - 1
        {
            ...
        }
    ]
}
</pre></div>
</div>
</div>
</div>
<div class="section" id="server-access-control">
<h2>3. Server Access Control<a class="headerlink" href="#server-access-control" title="Permalink to this headline">¶</a></h2>
<p>PINIX 서버의 접근을 허용/거부 할 IP를 설정한다. IP 대신 <code class="docutils literal"><span class="pre">all</span></code>을
지정하면 모든 접근 허용 및 거부를 의미한다.</p>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : allow, deny
- Type    : json array
- Location: main, vhost
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;allow&quot;</span> <span class="p">:</span>
    <span class="p">[</span>
        <span class="s">&quot;169.126.123.1&quot;</span><span class="p">,</span>
        <span class="s">&quot;169.126.123.2&quot;</span><span class="p">,</span>

        <span class="s">&quot;192.168.1.0/24&quot;</span>
    <span class="p">],</span>
    <span class="s">&quot;deny&quot;</span> <span class="p">:</span>
    <span class="p">[</span>
        <span class="s">&quot;all&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="cluster">
<h2>4. Cluster<a class="headerlink" href="#cluster" title="Permalink to this headline">¶</a></h2>
<p>PINIX는 클러스터 구성을 통해 안정성과 성능이 한 층 강화된 서비스를
제공할 수 있다. PINIX 캐시 솔루션은 캐시에 대한 요청시 해당 메타데이터
스토리지에 운용중인 PINIX 캐시 솔루션의 부하 정보 등을 종합하여 최적의
캐시 컨텐츠 제공 경로를 지정하여 운용된다.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>Cluster(cluster_mode)</dt>
<dd><p class="first last">PINIX의 클러스터 기능을 활성화 할지 여부를 결정</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Metastore Server Address(meta_store)</dt>
<dd><p class="first last">PINIX의 서비스(Cached Contents, Load Info)정보가보관되어 있는 메타DB 서버의 IP/Port를 설정</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Synchronize Time(synctimesec)</dt>
<dd><p class="first last">PINIX 클러스터, 즉 여러 노드에서 실제 서비스되고 있는 정보(Contents)와
메타DB에 저장되어 있는 서비스(Cached Contents)정보에 대한 동기화 시간을 설정.
동기화 시간이 짧을수록 클러스터로 구성된 PINIX의 부하와 같은 운용 정보가 실시간에
가까워지나, 동기화 시간이 짧을수록, 클러스터로 구성된 서버의 수가 많을수록
동기화 자체가 부하로 작용함에 주의해야 한다.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="highlight-python"><div class="highlight"><pre>- Keyword : cluster
- Type    : json object
- Location: main
</pre></div>
</div>
<p>* Syntax</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &quot;cluster&quot; :
    {
        &quot;cluster_mode&quot; : &quot;off&quot;,                     //&lt;- Default : off
        &quot;meta_store&quot; : &quot;127.0.0.1:8881&quot;,
        &quot;synctimesec&quot; : &quot;60&quot;
    }
}
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Origin.html" class="btn btn-neutral float-right" title="Origin" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to the PINIX Cache Docs!" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © NFLabs. All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>