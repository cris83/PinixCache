

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>}; &mdash; PINIX Cache Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PINIX Cache Docs 1.0 documentation" href="../../../../../../index.html"/> 

  
  <script src="../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../index.html" class="icon icon-home"> PINIX Cache Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../Global.html">Global</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../Origin.html">Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../VHost.html">VHost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../VHost-Proxy.html">Virtual Host Proxy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../../index.html">PINIX Cache Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../../index.html">Docs</a> &raquo;</li>
      
    <li>};</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../_sources/_themes/sphinx_rtd_theme-master/node_modules/grunt-contrib-jade/node_modules/jade/jade-language.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>&lt;a name=&#8221;a6&#8221;/&gt;
## Syntax</p>
<p>&lt;a name=&#8221;a6-2&#8221;/&gt;
### Tags</p>
<p>A tag is simply a leading word:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">html</span>
<span class="pre">`</span></code></p>
<p>for example is converted to <cite>&lt;html&gt;&lt;/html&gt;</cite></p>
<p>tags can also have ids:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">div#container</span>
<span class="pre">`</span></code></p>
<p>which would render <cite>&lt;div id=&#8221;container&#8221;&gt;&lt;/div&gt;</cite></p>
<p>how about some classes?</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">div.user-details</span>
<span class="pre">`</span></code></p>
<p>renders <cite>&lt;div class=&#8221;user-details&#8221;&gt;&lt;/div&gt;</cite></p>
<p>multiple classes? _and_ an id? sure:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">div#foo.bar.baz</span>
<span class="pre">`</span></code></p>
<p>renders <cite>&lt;div id=&#8221;foo&#8221; class=&#8221;bar baz&#8221;&gt;&lt;/div&gt;</cite></p>
<p>div div div sure is annoying, how about:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">#foo</span>
<span class="pre">.bar</span>
<span class="pre">`</span></code></p>
<p>which is syntactic sugar for what we have already been doing, and outputs:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;div</span> <span class="pre">id=&quot;foo&quot;&gt;&lt;/div&gt;&lt;div</span> <span class="pre">class=&quot;bar&quot;&gt;&lt;/div&gt;</span>
<span class="pre">`</span></code></p>
<p>&lt;a name=&#8221;a6-3&#8221;/&gt;
### Tag Text</p>
<p>Simply place some content after the tag:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">p</span> <span class="pre">wahoo!</span>
<span class="pre">`</span></code></p>
<p>renders <cite>&lt;p&gt;wahoo!&lt;/p&gt;</cite>.</p>
<p>well cool, but how about large bodies of text:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>jade
p</p>
<blockquote>
<div><div class="line-block">
<div class="line">foo bar baz</div>
<div class="line">rawr rawr</div>
<div class="line">super cool</div>
<div class="line">go jade go</div>
</div>
</div></blockquote>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>renders <cite>&lt;p&gt;foo bar baz rawr.....&lt;/p&gt;</cite></p>
<p>interpolation? yup! both types of text can utilize interpolation,
if we passed <cite>{ name: &#8216;tj&#8217;, email: &#8216;tj&#64;vision-media.ca&#8217; }</cite> to the compiled function we can do the following:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">#user</span> <span class="pre">#{name}</span> <span class="pre">&amp;lt;#{email}&amp;gt;</span>
<span class="pre">`</span></code></p>
<p>outputs <cite>&lt;div id=&#8221;user&#8221;&gt;tj &amp;lt;tj&#64;vision-media.ca&amp;gt;&lt;/div&gt;</cite></p>
<p>Actually want <cite>#{}</cite> for some reason? escape it!</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">p</span> <span class="pre">\#{something}</span>
<span class="pre">`</span></code></p>
<p>now we have <cite>&lt;p&gt;#{something}&lt;/p&gt;</cite></p>
<p>We can also utilize the unescaped variant <cite>!{html}</cite>, so the following
will result in a literal script tag:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">-</span> <span class="pre">var</span> <span class="pre">html</span> <span class="pre">=</span> <span class="pre">&quot;&lt;script&gt;&lt;/script&gt;&quot;</span>
<span class="pre">|</span> <span class="pre">!{html}</span>
<span class="pre">`</span></code></p>
<p>Nested tags that also contain text can optionally use a text block:</p>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>jade
label</p>
<blockquote>
<div><div class="line-block">
<div class="line">Username:</div>
</div>
<p>input(name=&#8217;user[name]&#8217;)</p>
</div></blockquote>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">`</span></a></p>
<p>or immediate tag text:</p>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>jade
label Username:</p>
<blockquote>
<div>input(name=&#8217;user[name]&#8217;)</div></blockquote>
<p><a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a></p>
<p>As an alternative, we may use a trailing <cite>.</cite> to indicate a text block, for example:</p>
<p><a href="#id25"><span class="problematic" id="id26">``</span></a><a href="#id27"><span class="problematic" id="id28">`</span></a>jade
p.</p>
<blockquote>
<div><p>foo asdf
asdf</p>
<blockquote>
<div>asdfasdfaf
asdf</div></blockquote>
<p>asd.</p>
</div></blockquote>
<p><a href="#id29"><span class="problematic" id="id30">``</span></a><a href="#id31"><span class="problematic" id="id32">`</span></a></p>
<p>outputs:</p>
<p><a href="#id33"><span class="problematic" id="id34">``</span></a><a href="#id35"><span class="problematic" id="id36">`</span></a>html
&lt;p&gt;foo asdf
asdf</p>
<blockquote>
<div>asdfasdfaf
asdf</div></blockquote>
<p>asd.
&lt;/p&gt;
<a href="#id37"><span class="problematic" id="id38">``</span></a><a href="#id39"><span class="problematic" id="id40">`</span></a></p>
<p>This however differs from a trailing <cite>.</cite> followed by a space, which although is ignored by the Jade parser, tells Jade that this period is a literal:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">p</span> <span class="pre">.</span>
<span class="pre">`</span></code></p>
<p>outputs:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;p&gt;.&lt;/p&gt;</span>
<span class="pre">`</span></code></p>
<p>It should be noted that text blocks should be doubled escaped.  For example if you desire the following output.</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;p&gt;foo\bar&lt;/p&gt;</span>
<span class="pre">`</span></code></p>
<p>use:</p>
<p><a href="#id41"><span class="problematic" id="id42">``</span></a><a href="#id43"><span class="problematic" id="id44">`</span></a>jade
p.</p>
<blockquote>
<div>foo\bar</div></blockquote>
<p><a href="#id45"><span class="problematic" id="id46">``</span></a><a href="#id47"><span class="problematic" id="id48">`</span></a></p>
<p>&lt;a name=&#8221;a6-4&#8221;/&gt;
### Comments</p>
<p>Single line comments currently look the same as JavaScript comments,
aka <cite>//</cite> and must be placed on their own line:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">//</span> <span class="pre">just</span> <span class="pre">some</span> <span class="pre">paragraphs</span>
<span class="pre">p</span> <span class="pre">foo</span>
<span class="pre">p</span> <span class="pre">bar</span>
<span class="pre">`</span></code></p>
<p>would output</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;!--</span> <span class="pre">just</span> <span class="pre">some</span> <span class="pre">paragraphs</span> <span class="pre">--&gt;</span>
<span class="pre">&lt;p&gt;foo&lt;/p&gt;</span>
<span class="pre">&lt;p&gt;bar&lt;/p&gt;</span>
<span class="pre">`</span></code></p>
<p>Jade also supports unbuffered comments, by simply adding a hyphen:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">//-</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">output</span> <span class="pre">within</span> <span class="pre">markup</span>
<span class="pre">p</span> <span class="pre">foo</span>
<span class="pre">p</span> <span class="pre">bar</span>
<span class="pre">`</span></code></p>
<p>outputting</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;p&gt;foo&lt;/p&gt;</span>
<span class="pre">&lt;p&gt;bar&lt;/p&gt;</span>
<span class="pre">`</span></code></p>
<p>&lt;a name=&#8221;a6-5&#8221;/&gt;
### Block Comments</p>
<blockquote>
<div>A block comment is legal as well:</div></blockquote>
<p><a href="#id49"><span class="problematic" id="id50">``</span></a><a href="#id51"><span class="problematic" id="id52">`</span></a>jade
body</p>
<blockquote>
<div><dl class="docutils">
<dt>//</dt>
<dd><dl class="first last docutils">
<dt>#content</dt>
<dd>h1 Example</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p><a href="#id53"><span class="problematic" id="id54">``</span></a><a href="#id55"><span class="problematic" id="id56">`</span></a></p>
<p>outputting</p>
<p><a href="#id57"><span class="problematic" id="id58">``</span></a><a href="#id59"><span class="problematic" id="id60">`</span></a>html
&lt;body&gt;</p>
<blockquote>
<div><p>&lt;!&#8211;
&lt;div id=&#8221;content&#8221;&gt;</p>
<blockquote>
<div>&lt;h1&gt;Example&lt;/h1&gt;</div></blockquote>
<p>&lt;/div&gt;
&#8211;&gt;</p>
</div></blockquote>
<p>&lt;/body&gt;
<a href="#id61"><span class="problematic" id="id62">``</span></a><a href="#id63"><span class="problematic" id="id64">`</span></a></p>
<p>Jade supports conditional-comments as well, for example:</p>
<p><a href="#id65"><span class="problematic" id="id66">``</span></a><a href="#id67"><span class="problematic" id="id68">`</span></a>jade
head</p>
<blockquote>
<div><dl class="docutils">
<dt>//if lt IE 8</dt>
<dd>script(src=&#8217;/ie-sucks.js&#8217;)</dd>
</dl>
</div></blockquote>
<p><a href="#id69"><span class="problematic" id="id70">``</span></a><a href="#id71"><span class="problematic" id="id72">`</span></a></p>
<p>outputs:</p>
<p><a href="#id73"><span class="problematic" id="id74">``</span></a><a href="#id75"><span class="problematic" id="id76">`</span></a>html
&lt;head&gt;</p>
<blockquote>
<div>&lt;!&#8211;[if lt IE 8]&gt;
&lt;script src=&#8221;/ie-sucks.js&#8221;&gt;&lt;/script&gt;
&lt;![endif]&#8211;&gt;</div></blockquote>
<p>&lt;/head&gt;
<a href="#id77"><span class="problematic" id="id78">``</span></a><a href="#id79"><span class="problematic" id="id80">`</span></a></p>
<p>&lt;a name=&#8221;a6-6&#8221;/&gt;
### Nesting</p>
<blockquote>
<div>Jade supports nesting to define the tags in a natural way:</div></blockquote>
<p><a href="#id81"><span class="problematic" id="id82">``</span></a><a href="#id83"><span class="problematic" id="id84">`</span></a>jade
ul</p>
<blockquote>
<div><dl class="docutils">
<dt>li.first</dt>
<dd>a(href=&#8217;#&#8217;) foo</dd>
<dt>li</dt>
<dd>a(href=&#8217;#&#8217;) bar</dd>
<dt>li.last</dt>
<dd>a(href=&#8217;#&#8217;) baz</dd>
</dl>
</div></blockquote>
<p><a href="#id85"><span class="problematic" id="id86">``</span></a><a href="#id87"><span class="problematic" id="id88">`</span></a></p>
<p>&lt;a name=&#8221;a6-7&#8221;/&gt;
### Block Expansion</p>
<blockquote>
<div>Block expansion allows you to create terse single-line nested tags,
the following example is equivalent to the nesting example above.</div></blockquote>
<p><a href="#id89"><span class="problematic" id="id90">``</span></a><a href="#id91"><span class="problematic" id="id92">`</span></a>jade
ul</p>
<blockquote>
<div>li.first: a(href=&#8217;#&#8217;) foo
li: a(href=&#8217;#&#8217;) bar
li.last: a(href=&#8217;#&#8217;) baz</div></blockquote>
<p><a href="#id93"><span class="problematic" id="id94">``</span></a><a href="#id95"><span class="problematic" id="id96">`</span></a></p>
<p>&lt;a name=&#8221;a6-8&#8221;/&gt;
### Case</p>
<blockquote>
<div>The case statement takes the following form:</div></blockquote>
<p><a href="#id97"><span class="problematic" id="id98">``</span></a><a href="#id99"><span class="problematic" id="id100">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>body</dt>
<dd><p class="first">friends = 10
case friends</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>when 0</dt>
<dd>p you have no friends</dd>
<dt>when 1</dt>
<dd>p you have a friend</dd>
<dt>default</dt>
<dd>p you have #{friends} friends</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p><a href="#id101"><span class="problematic" id="id102">``</span></a><a href="#id103"><span class="problematic" id="id104">`</span></a></p>
<blockquote>
<div>Block expansion may also be used:</div></blockquote>
<p><a href="#id105"><span class="problematic" id="id106">``</span></a><a href="#id107"><span class="problematic" id="id108">`</span></a>jade
friends = 5</p>
<dl class="docutils">
<dt>html</dt>
<dd><dl class="first last docutils">
<dt>body</dt>
<dd><dl class="first last docutils">
<dt>case friends</dt>
<dd>when 0: p you have no friends
when 1: p you have a friend
default: p you have #{friends} friends</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p><a href="#id109"><span class="problematic" id="id110">``</span></a><a href="#id111"><span class="problematic" id="id112">`</span></a></p>
<p>&lt;a name=&#8221;a6-9&#8221;/&gt;
### Attributes</p>
<p>Jade currently supports <cite>(</cite> and <cite>)</cite> as attribute delimiters.</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">a(href='/login',</span> <span class="pre">title='View</span> <span class="pre">login</span> <span class="pre">page')</span> <span class="pre">Login</span>
<span class="pre">`</span></code></p>
<p>When a value is <cite>undefined</cite> or <cite>null</cite> the attribute is _not_ added,
so this is fine, it will not compile <cite>something=&#8221;null&#8221;</cite>.</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">div(something=null)</span>
<span class="pre">`</span></code></p>
<p>Boolean attributes are also supported:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">input(type=&quot;checkbox&quot;,</span> <span class="pre">checked)</span>
<span class="pre">`</span></code></p>
<p>Boolean attributes with code will only output the attribute when <cite>true</cite>:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">input(type=&quot;checkbox&quot;,</span> <span class="pre">checked=someValue)</span>
<span class="pre">`</span></code></p>
<p>Multiple lines work too:</p>
<p><a href="#id113"><span class="problematic" id="id114">``</span></a><a href="#id115"><span class="problematic" id="id116">`</span></a>jade
input(type=&#8217;checkbox&#8217;,</p>
<blockquote>
<div>name=&#8217;agreement&#8217;,
checked)</div></blockquote>
<p><a href="#id117"><span class="problematic" id="id118">``</span></a><a href="#id119"><span class="problematic" id="id120">`</span></a></p>
<p>Multiple lines without the comma work fine:</p>
<p><a href="#id121"><span class="problematic" id="id122">``</span></a><a href="#id123"><span class="problematic" id="id124">`</span></a>jade
input(type=&#8217;checkbox&#8217;</p>
<blockquote>
<div>name=&#8217;agreement&#8217;
checked)</div></blockquote>
<p><a href="#id125"><span class="problematic" id="id126">``</span></a><a href="#id127"><span class="problematic" id="id128">`</span></a></p>
<p>Funky whitespace? fine:</p>
<p><a href="#id129"><span class="problematic" id="id130">``</span></a><a href="#id131"><span class="problematic" id="id132">`</span></a>jade
input(</p>
<blockquote>
<div>type=&#8217;checkbox&#8217;
name=&#8217;agreement&#8217;
checked)</div></blockquote>
<p><a href="#id133"><span class="problematic" id="id134">``</span></a><a href="#id135"><span class="problematic" id="id136">`</span></a></p>
<p>Colons work:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">rss(xmlns:atom=&quot;atom&quot;)</span>
<span class="pre">`</span></code></p>
<p>Suppose we have the <cite>user</cite> local <cite>{ id: 12, name: &#8216;tobi&#8217; }</cite>
and we wish to create an anchor tag with <cite>href</cite> pointing to &#8220;/user/12&#8221;
we could use regular javascript concatenation:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">a(href='/user/'</span> <span class="pre">+</span> <span class="pre">user.id)=</span> <span class="pre">user.name</span>
<span class="pre">`</span></code></p>
<p>or we could use jade&#8217;s interpolation, which I added because everyone
using Ruby or CoffeeScript seems to think this is legal js..:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">a(href='/user/#{user.id}')=</span> <span class="pre">user.name</span>
<span class="pre">`</span></code></p>
<p>The <cite>class</cite> attribute is special-cased when an array is given,
allowing you to pass an array such as <cite>bodyClasses = [&#8216;user&#8217;, &#8216;authenticated&#8217;]</cite> directly:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">body(class=bodyClasses)</span>
<span class="pre">`</span></code></p>
<p>&lt;a name=&#8221;a6-10&#8221;/&gt;
### HTML</p>
<blockquote>
<div>Inline html is fine, we can use the pipe syntax to
write arbitrary text, in this case some html:</div></blockquote>
<p><a href="#id137"><span class="problematic" id="id138">``</span></a><a href="#id139"><span class="problematic" id="id140">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>body</dt>
<dd><div class="first last line-block">
<div class="line">&lt;h1&gt;Title&lt;/h1&gt;</div>
<div class="line">&lt;p&gt;foo bar baz&lt;/p&gt;</div>
</div>
</dd>
</dl>
</div></blockquote>
<p><a href="#id141"><span class="problematic" id="id142">``</span></a><a href="#id143"><span class="problematic" id="id144">`</span></a></p>
<blockquote>
<div>Or we can use the trailing <cite>.</cite> to indicate to Jade that we
only want text in this block, allowing us to omit the pipes:</div></blockquote>
<p><a href="#id145"><span class="problematic" id="id146">``</span></a><a href="#id147"><span class="problematic" id="id148">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>body.</dt>
<dd>&lt;h1&gt;Title&lt;/h1&gt;
&lt;p&gt;foo bar baz&lt;/p&gt;</dd>
</dl>
</div></blockquote>
<p><a href="#id149"><span class="problematic" id="id150">``</span></a><a href="#id151"><span class="problematic" id="id152">`</span></a></p>
<blockquote>
<div>Both of these examples yield the same result:</div></blockquote>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;html&gt;&lt;body&gt;&lt;h1&gt;Title&lt;/h1&gt;</span>
<span class="pre">&lt;p&gt;foo</span> <span class="pre">bar</span> <span class="pre">baz&lt;/p&gt;</span>
<span class="pre">&lt;/body&gt;&lt;/html&gt;</span>
<span class="pre">`</span></code></p>
<blockquote>
<div>The same rule applies for anywhere you can have text
in jade, raw html is fine:</div></blockquote>
<p><a href="#id153"><span class="problematic" id="id154">``</span></a><a href="#id155"><span class="problematic" id="id156">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>body</dt>
<dd>h1 User &lt;em&gt;#{name}&lt;/em&gt;</dd>
</dl>
</div></blockquote>
<p><a href="#id157"><span class="problematic" id="id158">``</span></a><a href="#id159"><span class="problematic" id="id160">`</span></a></p>
<p>&lt;a name=&#8221;a6-11&#8221;/&gt;
### Doctypes</p>
<p>To add a doctype simply use <cite>!!!</cite>, or <cite>doctype</cite> followed by an optional value:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">!!!</span>
<span class="pre">`</span></code></p>
<p>or</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">doctype</span>
<span class="pre">`</span></code></p>
<p>Will output the _html <a href="#id424"><span class="problematic" id="id425">5_</span></a>  doctype, however:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">!!!</span> <span class="pre">transitional</span>
<span class="pre">`</span></code></p>
<p>Will output the _transitional_ doctype.</p>
<p>Doctypes are case-insensitive, so the following are equivalent:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">doctype</span> <span class="pre">Basic</span>
<span class="pre">doctype</span> <span class="pre">basic</span>
<span class="pre">`</span></code></p>
<p>it&#8217;s also possible to simply pass a doctype literal:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">doctype</span> <span class="pre">html</span> <span class="pre">PUBLIC</span> <span class="pre">&quot;-//W3C//DTD</span> <span class="pre">XHTML</span> <span class="pre">Basic</span> <span class="pre">1.1//EN&quot;</span>
<span class="pre">`</span></code></p>
<p>yielding:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;!DOCTYPE</span> <span class="pre">html</span> <span class="pre">PUBLIC</span> <span class="pre">&quot;-//W3C//DTD</span> <span class="pre">XHTML</span> <span class="pre">Basic</span> <span class="pre">1.1//EN&quot;&gt;</span>
<span class="pre">`</span></code></p>
<p>Below are the doctypes defined by default, which can easily be extended:</p>
<p><a href="#id161"><span class="problematic" id="id162">``</span></a><a href="#id163"><span class="problematic" id="id164">`</span></a>js
var doctypes = exports.doctypes = {</p>
<blockquote>
<div>&#8216;5&#8217;: &#8216;&lt;!DOCTYPE html&gt;&#8217;,
&#8216;default&#8217;: &#8216;&lt;!DOCTYPE html&gt;&#8217;,
&#8216;xml&#8217;: &#8216;&lt;?xml version=&#8221;1.0&#8221; encoding=&#8221;utf-8&#8221; ?&gt;&#8217;,
&#8216;transitional&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//W3C//DTD XHTML 1.0 Transitional//EN&#8221; &#8220;<a class="reference external" href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</a>&#8220;&gt;&#8217;,
&#8216;strict&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//W3C//DTD XHTML 1.0 Strict//EN&#8221; &#8220;<a class="reference external" href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</a>&#8220;&gt;&#8217;,
&#8216;frameset&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//W3C//DTD XHTML 1.0 Frameset//EN&#8221; &#8220;<a class="reference external" href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd</a>&#8220;&gt;&#8217;,
&#8216;1.1&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//W3C//DTD XHTML 1.1//EN&#8221; &#8220;<a class="reference external" href="http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd</a>&#8220;&gt;&#8217;,
&#8216;basic&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//W3C//DTD XHTML Basic 1.1//EN&#8221; &#8220;<a class="reference external" href="http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd</a>&#8220;&gt;&#8217;,
&#8216;mobile&#8217;: &#8216;&lt;!DOCTYPE html PUBLIC &#8220;-//WAPFORUM//DTD XHTML Mobile 1.2//EN&#8221; &#8220;<a class="reference external" href="http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd</a>&#8220;&gt;&#8217;</div></blockquote>
<div class="section" id="id165">
<h1>};<a class="headerlink" href="#id165" title="Permalink to this headline">Â¶</a></h1>
<p>To alter the default simply change:</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">jade.doctypes.default</span> <span class="pre">=</span> <span class="pre">'whatever</span> <span class="pre">you</span> <span class="pre">want';</span>
<span class="pre">`</span></code></p>
<p>&lt;a name=&#8221;a7&#8221;/&gt;
## Filters</p>
<p>Filters are prefixed with <cite>:</cite>, for example <cite>:markdown</cite> and
pass the following block of text to an arbitrary function for processing. View the _features_
at the top of this document for available filters.</p>
<p><a href="#id166"><span class="problematic" id="id167">``</span></a><a href="#id168"><span class="problematic" id="id169">`</span></a>jade
body</p>
<blockquote>
<div><dl class="docutils">
<dt>:markdown</dt>
<dd>Woah! jade _and_ markdown, very <strong>cool</strong>
we can even link to [stuff](<a class="reference external" href="http://google.com">http://google.com</a>)</dd>
</dl>
</div></blockquote>
<p><a href="#id170"><span class="problematic" id="id171">``</span></a><a href="#id172"><span class="problematic" id="id173">`</span></a></p>
<p>Renders:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;body&gt;&lt;p&gt;Woah!</span> <span class="pre">jade</span> <span class="pre">&lt;em&gt;and&lt;/em&gt;</span> <span class="pre">markdown,</span> <span class="pre">very</span> <span class="pre">&lt;strong&gt;cool&lt;/strong&gt;</span> <span class="pre">we</span> <span class="pre">can</span> <span class="pre">even</span> <span class="pre">link</span> <span class="pre">to</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;http://google.com&quot;&gt;stuff&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;</span>
<span class="pre">`</span></code></p>
<p>&lt;a name=&#8221;a8&#8221;/&gt;
## Code</p>
<p>Jade currently supports three classifications of executable code. The first
is prefixed by <cite>-</cite>, and is not buffered:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">-</span> <span class="pre">var</span> <span class="pre">foo</span> <span class="pre">=</span> <span class="pre">'bar';</span>
<span class="pre">`</span></code></p>
<p>This can be used for conditionals, or iteration:</p>
<p><a href="#id174"><span class="problematic" id="id175">``</span></a><a href="#id176"><span class="problematic" id="id177">`</span></a>jade
- for (var key in obj)</p>
<blockquote>
<div>p= obj[key]</div></blockquote>
<p><a href="#id178"><span class="problematic" id="id179">``</span></a><a href="#id180"><span class="problematic" id="id181">`</span></a></p>
<p>Due to Jade&#8217;s buffering techniques the following is valid as well:</p>
<p><a href="#id182"><span class="problematic" id="id183">``</span></a><a href="#id184"><span class="problematic" id="id185">`</span></a>jade
- if (foo)</p>
<blockquote>
<div><dl class="docutils">
<dt>ul</dt>
<dd>li yay
li foo
li worked</dd>
</dl>
</div></blockquote>
<ul class="simple">
<li>else
p oh no! didnt work</li>
</ul>
<p><a href="#id186"><span class="problematic" id="id187">``</span></a><a href="#id188"><span class="problematic" id="id189">`</span></a></p>
<p>Hell, even verbose iteration:</p>
<p><a href="#id190"><span class="problematic" id="id191">``</span></a><a href="#id192"><span class="problematic" id="id193">`</span></a>jade
- if (items.length)</p>
<blockquote>
<div><dl class="docutils">
<dt>ul</dt>
<dd><ul class="first last simple">
<li>items.forEach(function(item){
li= item</li>
<li>})</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p><a href="#id194"><span class="problematic" id="id195">``</span></a><a href="#id196"><span class="problematic" id="id197">`</span></a></p>
<p>Anything you want!</p>
<p>Next up we have _escaped_ buffered code, which is used to
buffer a return value, which is prefixed by <cite>=</cite>:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">-</span> <span class="pre">var</span> <span class="pre">foo</span> <span class="pre">=</span> <span class="pre">'bar'</span>
<span class="pre">=</span> <span class="pre">foo</span>
<span class="pre">h1=</span> <span class="pre">foo</span>
<span class="pre">`</span></code></p>
<p>Which outputs <cite>bar&lt;h1&gt;bar&lt;/h1&gt;</cite>. Code buffered by <cite>=</cite> is escaped
by default for security, however to output unescaped return values
you may use <cite>!=</cite>:</p>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">p!=</span> <span class="pre">aVarContainingMoreHTML</span>
<span class="pre">`</span></code></p>
<blockquote>
<div>Jade also has designer-friendly variants, making the literal JavaScript
more expressive and declarative. For example the following assignments
are equivalent, and the expression is still regular javascript:</div></blockquote>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">-</span> <span class="pre">var</span> <span class="pre">foo</span> <span class="pre">=</span> <span class="pre">'foo</span> <span class="pre">'</span> <span class="pre">+</span> <span class="pre">'bar'</span>
<span class="pre">foo</span> <span class="pre">=</span> <span class="pre">'foo</span> <span class="pre">'</span> <span class="pre">+</span> <span class="pre">'bar'</span>
<span class="pre">`</span></code></p>
<blockquote>
<div>Likewise Jade has first-class <cite>if</cite>, <cite>else if</cite>, <cite>else</cite>, <cite>until</cite>, <cite>while</cite>, <cite>unless</cite> among others, however you must remember that the expressions are still regular javascript:</div></blockquote>
<p><a href="#id198"><span class="problematic" id="id199">``</span></a><a href="#id200"><span class="problematic" id="id201">`</span></a>jade
if foo == &#8216;bar&#8217;</p>
<blockquote>
<div><dl class="docutils">
<dt>ul</dt>
<dd>li yay
li foo
li worked</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>else</dt>
<dd>p oh no! didnt work</dd>
</dl>
<p><a href="#id202"><span class="problematic" id="id203">``</span></a><a href="#id204"><span class="problematic" id="id205">`</span></a></p>
<p>&lt;a name=&#8221;a9&#8221;/&gt;
## Iteration</p>
<blockquote>
<div>Along with vanilla JavaScript Jade also supports a subset of
constructs that allow you to create more designer-friendly templates,
one of these constructs is <cite>each</cite>, taking the form:</div></blockquote>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">each</span> <span class="pre">VAL[,</span> <span class="pre">KEY]</span> <span class="pre">in</span> <span class="pre">OBJ</span>
<span class="pre">`</span></code></p>
<p>An example iterating over an array:</p>
<p><a href="#id206"><span class="problematic" id="id207">``</span></a><a href="#id208"><span class="problematic" id="id209">`</span></a>jade
- var items = [&#8220;one&#8221;, &#8220;two&#8221;, &#8220;three&#8221;]
each item in items</p>
<blockquote>
<div>li= item</div></blockquote>
<p><a href="#id210"><span class="problematic" id="id211">``</span></a><a href="#id212"><span class="problematic" id="id213">`</span></a></p>
<p>outputs:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;li&gt;one&lt;/li&gt;</span>
<span class="pre">&lt;li&gt;two&lt;/li&gt;</span>
<span class="pre">&lt;li&gt;three&lt;/li&gt;</span>
<span class="pre">`</span></code></p>
<p>iterating an array with index:</p>
<p><a href="#id214"><span class="problematic" id="id215">``</span></a><a href="#id216"><span class="problematic" id="id217">`</span></a>jade
items = [&#8220;one&#8221;, &#8220;two&#8221;, &#8220;three&#8221;]
each item, i in items</p>
<blockquote>
<div>li #{item}: #{i}</div></blockquote>
<p><a href="#id218"><span class="problematic" id="id219">``</span></a><a href="#id220"><span class="problematic" id="id221">`</span></a></p>
<p>outputs:</p>
<p><code class="docutils literal"><span class="pre">`html</span>
<span class="pre">&lt;li&gt;one:</span> <span class="pre">0&lt;/li&gt;</span>
<span class="pre">&lt;li&gt;two:</span> <span class="pre">1&lt;/li&gt;</span>
<span class="pre">&lt;li&gt;three:</span> <span class="pre">2&lt;/li&gt;</span>
<span class="pre">`</span></code></p>
<p>iterating an object&#8217;s keys and values:</p>
<p><a href="#id222"><span class="problematic" id="id223">``</span></a><a href="#id224"><span class="problematic" id="id225">`</span></a>jade
obj = { foo: &#8216;bar&#8217; }
each val, key in obj</p>
<blockquote>
<div>li #{key}: #{val}</div></blockquote>
<p><a href="#id226"><span class="problematic" id="id227">``</span></a><a href="#id228"><span class="problematic" id="id229">`</span></a></p>
<p>would output <cite>&lt;li&gt;foo: bar&lt;/li&gt;</cite></p>
<p>Internally Jade converts these statements to regular
JavaScript loops such as <cite>users.forEach(function(user){</cite>,
so lexical scope and nesting applies as it would with regular
JavaScript:</p>
<p><a href="#id230"><span class="problematic" id="id231">``</span></a><a href="#id232"><span class="problematic" id="id233">`</span></a>jade
each user in users</p>
<blockquote>
<div><dl class="docutils">
<dt>each role in user.roles</dt>
<dd>li= role</dd>
</dl>
</div></blockquote>
<p><a href="#id234"><span class="problematic" id="id235">``</span></a><a href="#id236"><span class="problematic" id="id237">`</span></a></p>
<blockquote>
<div>You may also use <cite>for</cite> if you prefer:</div></blockquote>
<p><a href="#id238"><span class="problematic" id="id239">``</span></a><a href="#id240"><span class="problematic" id="id241">`</span></a>jade
for user in users</p>
<blockquote>
<div><dl class="docutils">
<dt>for role in user.roles</dt>
<dd>li= role</dd>
</dl>
</div></blockquote>
<p><a href="#id242"><span class="problematic" id="id243">``</span></a><a href="#id244"><span class="problematic" id="id245">`</span></a></p>
<p>&lt;a name=&#8221;a10&#8221;/&gt;
## Conditionals</p>
<blockquote>
<div>Jade conditionals are equivalent to those using the code (<cite>-</cite>) prefix,
however allow you to ditch parenthesis to become more designer friendly,
however keep in mind the expression given is _regular_ JavaScript:</div></blockquote>
<p><a href="#id246"><span class="problematic" id="id247">``</span></a><a href="#id248"><span class="problematic" id="id249">`</span></a>jade
for user in users</p>
<blockquote>
<div><dl class="docutils">
<dt>if user.role == &#8216;admin&#8217;</dt>
<dd>p #{user.name} is an admin</dd>
<dt>else</dt>
<dd>p= user.name</dd>
</dl>
</div></blockquote>
<p><a href="#id250"><span class="problematic" id="id251">``</span></a><a href="#id252"><span class="problematic" id="id253">`</span></a></p>
<blockquote>
<div>is equivalent to the following using vanilla JavaScript literals:</div></blockquote>
<p><a href="#id254"><span class="problematic" id="id255">``</span></a><a href="#id256"><span class="problematic" id="id257">`</span></a>jade
for user in users</p>
<blockquote>
<div><ul class="simple">
<li>if (user.role == &#8216;admin&#8217;)
p #{user.name} is an admin</li>
<li>else
p= user.name</li>
</ul>
</div></blockquote>
<p><a href="#id258"><span class="problematic" id="id259">``</span></a><a href="#id260"><span class="problematic" id="id261">`</span></a></p>
<blockquote>
<div>Jade also provides <cite>unless</cite> which is equivalent to <cite>if (!(expr))</cite>:</div></blockquote>
<p><a href="#id262"><span class="problematic" id="id263">``</span></a><a href="#id264"><span class="problematic" id="id265">`</span></a>jade
for user in users</p>
<blockquote>
<div><dl class="docutils">
<dt>unless user.isAnonymous</dt>
<dd><dl class="first last docutils">
<dt>p</dt>
<dd><div class="first line-block">
<div class="line">Click to view</div>
</div>
<p class="last">a(href=&#8217;/users/&#8217; + user.id)= user.name</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p><a href="#id266"><span class="problematic" id="id267">``</span></a><a href="#id268"><span class="problematic" id="id269">`</span></a></p>
<p>&lt;a name=&#8221;a11&#8221;/&gt;
## Template inheritance</p>
<blockquote>
<div><p>Jade supports template inheritance via the <cite>block</cite> and <cite>extends</cite> keywords. A block is simply a &#8220;block&#8221; of Jade that may be replaced within a child template, this process is recursive. To activate template inheritance in Express 2.x you must add: <cite>app.set(&#8216;view options&#8217;, { layout: false });</cite>.</p>
<p>Jade blocks can provide default content if desired, however optional as shown below by <cite>block scripts</cite>, <cite>block content</cite>, and <cite>block foot</cite>.</p>
</div></blockquote>
<p><a href="#id270"><span class="problematic" id="id271">``</span></a><a href="#id272"><span class="problematic" id="id273">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>head</dt>
<dd><p class="first">title My Site - #{title}
block scripts</p>
<blockquote class="last">
<div>script(src=&#8217;/jquery.js&#8217;)</div></blockquote>
</dd>
<dt>body</dt>
<dd><p class="first">block content
block foot</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>#footer</dt>
<dd>p some footer content</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p><a href="#id274"><span class="problematic" id="id275">``</span></a><a href="#id276"><span class="problematic" id="id277">`</span></a></p>
<blockquote>
<div>Now to extend the layout, simply create a new file and use the <cite>extends</cite> directive as shown below, giving the path (with or without the .jade extension). You may now define one or more blocks that will override the parent block content, note that here the <cite>foot</cite> block is _not_ redefined and will output &#8220;some footer content&#8221;.</div></blockquote>
<p><a href="#id278"><span class="problematic" id="id279">``</span></a><a href="#id280"><span class="problematic" id="id281">`</span></a>jade
extends layout</p>
<dl class="docutils">
<dt>block scripts</dt>
<dd>script(src=&#8217;/jquery.js&#8217;)
script(src=&#8217;/pets.js&#8217;)</dd>
<dt>block content</dt>
<dd><p class="first">h1= title
each pet in pets</p>
<blockquote class="last">
<div>include pet</div></blockquote>
</dd>
</dl>
<p><a href="#id282"><span class="problematic" id="id283">``</span></a><a href="#id284"><span class="problematic" id="id285">`</span></a></p>
<blockquote>
<div>It&#8217;s also possible to override a block to provide additional blocks, as shown in the following example where <cite>content</cite> now exposes a <cite>sidebar</cite> and <cite>primary</cite> block for overriding, or the child template could override <cite>content</cite> all together.</div></blockquote>
<p><a href="#id286"><span class="problematic" id="id287">``</span></a><a href="#id288"><span class="problematic" id="id289">`</span></a>jade
extends regular-layout</p>
<dl class="docutils">
<dt>block content</dt>
<dd><dl class="first last docutils">
<dt>.sidebar</dt>
<dd><dl class="first last docutils">
<dt>block sidebar</dt>
<dd>p nothing</dd>
</dl>
</dd>
<dt>.primary</dt>
<dd><dl class="first last docutils">
<dt>block primary</dt>
<dd>p nothing</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p><a href="#id290"><span class="problematic" id="id291">``</span></a><a href="#id292"><span class="problematic" id="id293">`</span></a></p>
<p>&lt;a name=&#8221;a12&#8221;/&gt;
## Block append / prepend</p>
<blockquote>
<div>Jade allows you to _replace_ (default), _prepend_, or _append_ blocks. Suppose for example you have default scripts in a &#8220;head&#8221; block that you wish to utilize on _every_ page, you might do this:</div></blockquote>
<p><a href="#id294"><span class="problematic" id="id295">``</span></a><a href="#id296"><span class="problematic" id="id297">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>head</dt>
<dd><dl class="first last docutils">
<dt>block head</dt>
<dd>script(src=&#8217;/vendor/jquery.js&#8217;)
script(src=&#8217;/vendor/caustic.js&#8217;)</dd>
</dl>
</dd>
<dt>body</dt>
<dd>block content</dd>
</dl>
</div></blockquote>
<p><a href="#id298"><span class="problematic" id="id299">``</span></a><a href="#id300"><span class="problematic" id="id301">`</span></a></p>
<blockquote>
<div>Now suppose you have a page of your application for a JavaScript game, you want some game related scripts as well as these defaults, you can simply <cite>append</cite> the block:</div></blockquote>
<p><a href="#id302"><span class="problematic" id="id303">``</span></a><a href="#id304"><span class="problematic" id="id305">`</span></a>jade
extends layout</p>
<dl class="docutils">
<dt>block append head</dt>
<dd>script(src=&#8217;/vendor/three.js&#8217;)
script(src=&#8217;/game.js&#8217;)</dd>
</dl>
<p><a href="#id306"><span class="problematic" id="id307">``</span></a><a href="#id308"><span class="problematic" id="id309">`</span></a></p>
<blockquote>
<div>When using <cite>block append</cite> or <cite>block prepend</cite> the <cite>block</cite> is optional:</div></blockquote>
<p><a href="#id310"><span class="problematic" id="id311">``</span></a><a href="#id312"><span class="problematic" id="id313">`</span></a>jade
extends layout</p>
<dl class="docutils">
<dt>append head</dt>
<dd>script(src=&#8217;/vendor/three.js&#8217;)
script(src=&#8217;/game.js&#8217;)</dd>
</dl>
<p><a href="#id314"><span class="problematic" id="id315">``</span></a><a href="#id316"><span class="problematic" id="id317">`</span></a></p>
<p>&lt;a name=&#8221;a13&#8221;/&gt;
## Includes</p>
<blockquote>
<div><p>Includes allow you to statically include chunks of Jade,
or other content like css, or html which lives in separate files. The classical example is including a header and footer. Suppose we have the following directory structure:</p>
<blockquote>
<div><p>./layout.jade
./includes/</p>
<blockquote>
<div>./head.jade
./foot.jade</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>and the following _layout.jade_:</p>
<p><a href="#id318"><span class="problematic" id="id319">``</span></a><a href="#id320"><span class="problematic" id="id321">`</span></a>jade
html</p>
<blockquote>
<div><p>include includes/head
body</p>
<blockquote>
<div>h1 My Site
p Welcome to my super amazing site.
include includes/foot</div></blockquote>
</div></blockquote>
<p><a href="#id322"><span class="problematic" id="id323">``</span></a><a href="#id324"><span class="problematic" id="id325">`</span></a></p>
<p>both includes _includes/<a href="#id426"><span class="problematic" id="id427">head_</span></a> and _includes/<a href="#id428"><span class="problematic" id="id429">foot_</span></a> are
read relative to the <cite>filename</cite> option given to _layout.jade_,
which should be an absolute path to this file, however Express
does this for you. Include then parses these files, and injects
the AST produced to render what you would expect:</p>
<p><a href="#id326"><span class="problematic" id="id327">``</span></a><a href="#id328"><span class="problematic" id="id329">`</span></a>html
&lt;html&gt;</p>
<blockquote>
<div><dl class="docutils">
<dt>&lt;head&gt;</dt>
<dd>&lt;title&gt;My Site&lt;/title&gt;
&lt;script src=&#8221;/javascripts/jquery.js&#8221;&gt;
&lt;/script&gt;&lt;script src=&#8221;/javascripts/app.js&#8221;&gt;&lt;/script&gt;</dd>
</dl>
<p>&lt;/head&gt;
&lt;body&gt;</p>
<blockquote>
<div><p>&lt;h1&gt;My Site&lt;/h1&gt;
&lt;p&gt;Welcome to my super lame site.&lt;/p&gt;
&lt;div id=&#8221;footer&#8221;&gt;</p>
<blockquote>
<div>&lt;p&gt;Copyright&gt;(c) foobar&lt;/p&gt;</div></blockquote>
<p>&lt;/div&gt;</p>
</div></blockquote>
<p>&lt;/body&gt;</p>
</div></blockquote>
<p>&lt;/html&gt;
<a href="#id330"><span class="problematic" id="id331">``</span></a><a href="#id332"><span class="problematic" id="id333">`</span></a></p>
<p>As mentioned <cite>include</cite> can be used to include other content
such as html or css. By providing an explicit filter name
with <cite>include:</cite>, Jade will read that file in, apply the
[filter](#a7), and insert that content into the output.</p>
<p><a href="#id334"><span class="problematic" id="id335">``</span></a><a href="#id336"><span class="problematic" id="id337">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>head</dt>
<dd><dl class="first docutils">
<dt>//- css and js have simple filters that wrap them in</dt>
<dd>&lt;style&gt; and &lt;script&gt; tags, respectively</dd>
</dl>
<p class="last">include stylesheet.css
include script.js</p>
</dd>
<dt>body</dt>
<dd>//- use the &#8220;markdown&#8221; filter to convert Markdown to HTML
include:markdown introduction.markdown
//- html files have no filter and are included verbatim
include content.html</dd>
</dl>
</div></blockquote>
<p><a href="#id338"><span class="problematic" id="id339">``</span></a><a href="#id340"><span class="problematic" id="id341">`</span></a></p>
<blockquote>
<div>Include directives may also accept a block, in which case the
the given block will be appended to the _last_ block defined
in the file. For example if <cite>head.jade</cite> contains:</div></blockquote>
<p><a href="#id342"><span class="problematic" id="id343">``</span></a><a href="#id344"><span class="problematic" id="id345">`</span></a>jade
head</p>
<blockquote>
<div>script(src=&#8217;/jquery.js&#8217;)</div></blockquote>
<p><a href="#id346"><span class="problematic" id="id347">``</span></a><a href="#id348"><span class="problematic" id="id349">`</span></a></p>
<blockquote>
<div>We may append values by providing a block to <cite>include head</cite>
as shown below, adding the two scripts.</div></blockquote>
<p><a href="#id350"><span class="problematic" id="id351">``</span></a><a href="#id352"><span class="problematic" id="id353">`</span></a>jade
html</p>
<blockquote>
<div><dl class="docutils">
<dt>include head</dt>
<dd>script(src=&#8217;/foo.js&#8217;)
script(src=&#8217;/bar.js&#8217;)</dd>
<dt>body</dt>
<dd>h1 test</dd>
</dl>
</div></blockquote>
<p><a href="#id354"><span class="problematic" id="id355">``</span></a><a href="#id356"><span class="problematic" id="id357">`</span></a></p>
<blockquote>
<div>You may also <cite>yield</cite> within an included template, allowing you to explicitly mark where the block given to <cite>include</cite> will be placed. Suppose for example you wish to prepend scripts rather than append, you might do the following:</div></blockquote>
<p><a href="#id358"><span class="problematic" id="id359">``</span></a><a href="#id360"><span class="problematic" id="id361">`</span></a>jade
head</p>
<blockquote>
<div>yield
script(src=&#8217;/jquery.js&#8217;)
script(src=&#8217;/jquery.ui.js&#8217;)</div></blockquote>
<p><a href="#id362"><span class="problematic" id="id363">``</span></a><a href="#id364"><span class="problematic" id="id365">`</span></a></p>
<blockquote>
<div>Since included Jade is parsed and literally merges the AST, lexically scoped variables function as if the included Jade was written right in the same file. This means <cite>include</cite> may be used as sort of partial, for example suppose we have <cite>user.jade</cite> which utilizes a <cite>user</cite> variable.</div></blockquote>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">h1=</span> <span class="pre">user.name</span>
<span class="pre">p=</span> <span class="pre">user.occupation</span>
<span class="pre">`</span></code></p>
<p>We could then simply <cite>include user</cite> while iterating users, and since the <cite>user</cite> variable is already defined within the loop the included template will have access to it.</p>
<p><a href="#id366"><span class="problematic" id="id367">``</span></a><a href="#id368"><span class="problematic" id="id369">`</span></a>jade
users = [{ name: &#8216;Tobi&#8217;, occupation: &#8216;Ferret&#8217; }]</p>
<dl class="docutils">
<dt>each user in users</dt>
<dd><dl class="first last docutils">
<dt>.user</dt>
<dd>include user</dd>
</dl>
</dd>
</dl>
<p><a href="#id370"><span class="problematic" id="id371">``</span></a><a href="#id372"><span class="problematic" id="id373">`</span></a></p>
<p>yielding:</p>
<p><a href="#id374"><span class="problematic" id="id375">``</span></a><a href="#id376"><span class="problematic" id="id377">`</span></a>html
&lt;div class=&#8221;user&#8221;&gt;</p>
<blockquote>
<div>&lt;h1&gt;Tobi&lt;/h1&gt;
&lt;p&gt;Ferret&lt;/p&gt;</div></blockquote>
<p>&lt;/div&gt;
<a href="#id378"><span class="problematic" id="id379">``</span></a><a href="#id380"><span class="problematic" id="id381">`</span></a></p>
<p>If we wanted to expose a different variable name as <cite>user</cite> since <cite>user.jade</cite> references that name, we could simply define a new variable as shown here with <cite>user = person</cite>:</p>
<p><a href="#id382"><span class="problematic" id="id383">``</span></a><a href="#id384"><span class="problematic" id="id385">`</span></a>jade
each person in users</p>
<blockquote>
<div><dl class="docutils">
<dt>.user</dt>
<dd>user = person
include user</dd>
</dl>
</div></blockquote>
<p><a href="#id386"><span class="problematic" id="id387">``</span></a><a href="#id388"><span class="problematic" id="id389">`</span></a></p>
<p>&lt;a name=&#8221;a14&#8221;/&gt;
## Mixins</p>
<blockquote>
<div>Mixins are converted to regular JavaScript functions in
the compiled template that Jade constructs. Mixins may
take arguments, though not required:</div></blockquote>
<p><a href="#id390"><span class="problematic" id="id391">``</span></a><a href="#id392"><span class="problematic" id="id393">`</span></a>jade
mixin list</p>
<blockquote>
<div><dl class="docutils">
<dt>ul</dt>
<dd>li foo
li bar
li baz</dd>
</dl>
</div></blockquote>
<p><a href="#id394"><span class="problematic" id="id395">``</span></a><a href="#id396"><span class="problematic" id="id397">`</span></a></p>
<blockquote>
<div>Utilizing a mixin without args looks similar, just without a block:</div></blockquote>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">h2</span> <span class="pre">Groceries</span>
<span class="pre">mixin</span> <span class="pre">list</span>
<span class="pre">`</span></code></p>
<blockquote>
<div>Mixins may take one or more arguments as well, the arguments
are regular javascripts expressions, so for example the following:</div></blockquote>
<p><a href="#id398"><span class="problematic" id="id399">``</span></a><a href="#id400"><span class="problematic" id="id401">`</span></a>jade
mixin pets(pets)</p>
<blockquote>
<div><dl class="docutils">
<dt>ul.pets</dt>
<dd><ul class="first last simple">
<li>each pet in pets
li= pet</li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>mixin profile(user)</dt>
<dd><dl class="first last docutils">
<dt>.user</dt>
<dd>h2= user.name
mixin pets(user.pets)</dd>
</dl>
</dd>
</dl>
<p><a href="#id402"><span class="problematic" id="id403">``</span></a><a href="#id404"><span class="problematic" id="id405">`</span></a></p>
<blockquote>
<div>Would yield something similar to the following html:</div></blockquote>
<p><a href="#id406"><span class="problematic" id="id407">``</span></a><a href="#id408"><span class="problematic" id="id409">`</span></a>html
&lt;div class=&#8221;user&#8221;&gt;</p>
<blockquote>
<div><p>&lt;h2&gt;tj&lt;/h2&gt;
&lt;ul class=&#8221;pets&#8221;&gt;</p>
<blockquote>
<div>&lt;li&gt;tobi&lt;/li&gt;
&lt;li&gt;loki&lt;/li&gt;
&lt;li&gt;jane&lt;/li&gt;
&lt;li&gt;manny&lt;/li&gt;</div></blockquote>
<p>&lt;/ul&gt;</p>
</div></blockquote>
<p>&lt;/div&gt;
<a href="#id410"><span class="problematic" id="id411">``</span></a><a href="#id412"><span class="problematic" id="id413">`</span></a></p>
<p>&lt;a name=&#8221;a15&#8221;/&gt;
## Generated Output</p>
<blockquote>
<div>Suppose we have the following Jade:</div></blockquote>
<p><code class="docutils literal"><span class="pre">`jade</span>
<span class="pre">-</span> <span class="pre">var</span> <span class="pre">title</span> <span class="pre">=</span> <span class="pre">'yay'</span>
<span class="pre">h1.title</span> <span class="pre">#{title}</span>
<span class="pre">p</span> <span class="pre">Just</span> <span class="pre">an</span> <span class="pre">example</span>
<span class="pre">`</span></code></p>
<blockquote>
<div>When the <cite>compileDebug</cite> option is not explicitly <cite>false</cite>, Jade
will compile the function instrumented with <cite>__.lineno = n;</cite>, which
in the event of an exception is passed to <cite>rethrow()</cite> which constructs
a useful message relative to the initial Jade input.</div></blockquote>
<p><a href="#id414"><span class="problematic" id="id415">``</span></a><a href="#id416"><span class="problematic" id="id417">`</span></a>js
function anonymous(locals) {</p>
<blockquote>
<div><p>var __ = { lineno: 1, input: &#8220;- var title = &#8216;yay&#8217;nh1.title #{title}np Just an example&#8221;, filename: &#8220;testing/test.js&#8221; };
var rethrow = jade.rethrow;
try {</p>
<blockquote>
<div><p>var attrs = jade.attrs, escape = jade.escape;
var buf = [];
with (locals || {}) {</p>
<blockquote>
<div><p>var interp;
__.lineno = 1;</p>
<blockquote>
<div>var title = &#8216;yay&#8217;</div></blockquote>
<p>__.lineno = 2;
buf.push(&#8216;&lt;h1&#8217;);
buf.push(attrs({ &#8220;class&#8221;: (&#8216;title&#8217;) }));
buf.push(&#8216;&gt;&#8217;);
buf.push(&#8216;&#8217; + escape((interp = title) == null ? &#8216;&#8217; : interp) + &#8216;&#8217;);
buf.push(&#8216;&lt;/h1&gt;&#8217;);
__.lineno = 3;
buf.push(&#8216;&lt;p&gt;&#8217;);
buf.push(&#8216;Just an example&#8217;);
buf.push(&#8216;&lt;/p&gt;&#8217;);</p>
</div></blockquote>
<p>}
return buf.join(&#8220;&#8221;);</p>
</div></blockquote>
<dl class="docutils">
<dt>} catch (err) {</dt>
<dd>rethrow(err, __.input, __.filename, __.lineno);</dd>
</dl>
<p>}</p>
</div></blockquote>
</div>
<div class="section" id="id418">
<h1>}<a class="headerlink" href="#id418" title="Permalink to this headline">Â¶</a></h1>
<p>When the <cite>compileDebug</cite> option _is_ explicitly <cite>false</cite>, this instrumentation
is stripped, which is very helpful for light-weight client-side templates. Combining Jade&#8217;s options with the <cite>./runtime.js</cite> file in this repo allows you
to toString() compiled templates and avoid running the entire Jade library on
the client, increasing performance, and decreasing the amount of JavaScript
required.</p>
<p><a href="#id419"><span class="problematic" id="id420">``</span></a><a href="#id421"><span class="problematic" id="id422">`</span></a>js
function anonymous(locals) {</p>
<blockquote>
<div><p>var attrs = jade.attrs, escape = jade.escape;
var buf = [];
with (locals || {}) {</p>
<blockquote>
<div>var interp;
var title = &#8216;yay&#8217;
buf.push(&#8216;&lt;h1&#8217;);
buf.push(attrs({ &#8220;class&#8221;: (&#8216;title&#8217;) }));
buf.push(&#8216;&gt;&#8217;);
buf.push(&#8216;&#8217; + escape((interp = title) == null ? &#8216;&#8217; : interp) + &#8216;&#8217;);
buf.push(&#8216;&lt;/h1&gt;&#8217;);
buf.push(&#8216;&lt;p&gt;&#8217;);
buf.push(&#8216;Just an example&#8217;);
buf.push(&#8216;&lt;/p&gt;&#8217;);</div></blockquote>
<p>}
return buf.join(&#8220;&#8221;);</p>
</div></blockquote>
</div>
<div class="section" id="id423">
<h1>}<a class="headerlink" href="#id423" title="Permalink to this headline">Â¶</a></h1>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Â© NFLabs. All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>