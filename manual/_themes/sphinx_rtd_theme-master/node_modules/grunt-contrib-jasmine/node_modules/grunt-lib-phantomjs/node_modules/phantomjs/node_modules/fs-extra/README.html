

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Node.js: fs-extra &mdash; PINIX Cache Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../../../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PINIX Cache Docs 1.0 documentation" href="../../../../../../../../../../index.html"/> 

  
  <script src="../../../../../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../../../../../index.html" class="icon icon-home"> PINIX Cache Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Global.html">Global</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Origin.html">Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../VHost.html">VHost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../VHost-Proxy.html">Virtual Host Proxy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../../../../../../index.html">PINIX Cache Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../../../../../../index.html">Docs</a> &raquo;</li>
      
    <li>Node.js: fs-extra</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../../../../../_sources/_themes/sphinx_rtd_theme-master/node_modules/grunt-contrib-jasmine/node_modules/grunt-lib-phantomjs/node_modules/phantomjs/node_modules/fs-extra/README.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="node-js-fs-extra">
<h1>Node.js: fs-extra<a class="headerlink" href="#node-js-fs-extra" title="Permalink to this headline">¶</a></h1>
<p>[![build status](<a class="reference external" href="https://secure.travis-ci.org/jprichardson/node-fs-extra.svg)](http://travis-ci.org/jprichardson/node-fs-extra">https://secure.travis-ci.org/jprichardson/node-fs-extra.svg)](http://travis-ci.org/jprichardson/node-fs-extra</a>)
[![windows Build status](<a class="reference external" href="https://img.shields.io/appveyor/ci/jprichardson/node-fs-extra/master.svg?label=windows%20build)](https://ci.appveyor.com/project/jprichardson/node-fs-extra/branch/master">https://img.shields.io/appveyor/ci/jprichardson/node-fs-extra/master.svg?label=windows%20build)](https://ci.appveyor.com/project/jprichardson/node-fs-extra/branch/master</a>)
[![downloads per month](<a class="reference external" href="http://img.shields.io/npm/dm/fs-extra.svg)](https://www.npmjs.org/package/fs-extra">http://img.shields.io/npm/dm/fs-extra.svg)](https://www.npmjs.org/package/fs-extra</a>)
[![Coverage Status](<a class="reference external" href="https://img.shields.io/coveralls/jprichardson/node-fs-extra.svg)](https://coveralls.io/r/jprichardson/node-fs-extra">https://img.shields.io/coveralls/jprichardson/node-fs-extra.svg)](https://coveralls.io/r/jprichardson/node-fs-extra</a>)</p>
<p><cite>fs-extra</cite> adds file system methods that aren&#8217;t included in the native <cite>fs</cite> module. It is a drop in replacement for <cite>fs</cite>.</p>
<div class="section" id="why">
<h2>Why?<a class="headerlink" href="#why" title="Permalink to this headline">¶</a></h2>
<p>I got tired of including <cite>mkdirp</cite>, <cite>rimraf</cite>, and <cite>cp -r</cite> in most of my projects.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>npm install &#8211;save fs-extra</div></blockquote>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><cite>fs-extra</cite> is a drop in replacement for native <cite>fs</cite>. All methods in <cite>fs</cite> are unmodified and attached to <cite>fs-extra</cite>.</p>
<p>You don&#8217;t ever need to include the original <cite>fs</cite> module again:</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">var</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">require('fs')</span> <span class="pre">//</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">no</span> <span class="pre">longer</span> <span class="pre">necessary</span>
<span class="pre">`</span></code></p>
<p>you can now do this:</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">var</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">require('fs-extra')</span>
<span class="pre">`</span></code></p>
<p>or if you prefer to make it clear that you&#8217;re using <cite>fs-extra</cite> and not <cite>fs</cite>, you may want
to name your <cite>fs</cite> variable <cite>fse</cite> like so:</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">var</span> <span class="pre">fse</span> <span class="pre">=</span> <span class="pre">require('fs-extra')</span>
<span class="pre">`</span></code></p>
<p>you can also keep both, but it&#8217;s redundant:</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">var</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">require('fs')</span>
<span class="pre">var</span> <span class="pre">fse</span> <span class="pre">=</span> <span class="pre">require('fs-extra')</span>
<span class="pre">`</span></code></p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>[copy](#copy)</li>
<li>[copySync](#copy)</li>
<li>[createOutputStream](#createoutputstreamfile-options)</li>
<li>[emptyDir](#emptydirdir-callback)</li>
<li>[emptyDirSync](#emptydirdir-callback)</li>
<li>[ensureFile](#ensurefilefile-callback)</li>
<li>[ensureFileSync](#ensurefilefile-callback)</li>
<li>[ensureDir](#ensuredirdir-callback)</li>
<li>[ensureDirSync](#ensuredirdir-callback)</li>
<li>[ensureLink](#ensurelinksrcpath-dstpath-callback)</li>
<li>[ensureLinkSync](#ensurelinksrcpath-dstpath-callback)</li>
<li>[ensureSymlink](#ensuresymlinksrcpath-dstpath-type-callback)</li>
<li>[ensureSymlinkSync](#ensuresymlinksrcpath-dstpath-type-callback)</li>
<li>[mkdirs](#mkdirsdir-callback)</li>
<li>[mkdirsSync](#mkdirsdir-callback)</li>
<li>[move](#movesrc-dest-options-callback)</li>
<li>[outputFile](#outputfilefile-data-callback)</li>
<li>[outputFileSync](#outputfilefile-data-callback)</li>
<li>[outputJson](#outputjsonfile-data-callback)</li>
<li>[outputJsonSync](#outputjsonfile-data-callback)</li>
<li>[readJson](#readjsonfile-options-callback)</li>
<li>[readJsonSync](#readjsonfile-options-callback)</li>
<li>[remove](#removedir-callback)</li>
<li>[removeSync](#removedir-callback)</li>
<li>[writeJson](#writejsonfile-object-options-callback)</li>
<li>[writeJsonSync](#writejsonfile-object-options-callback)</li>
</ul>
<p><strong>NOTE:</strong> You can still use the native Node.js methods. They are copied over to <cite>fs-extra</cite>.</p>
<p>### copy()</p>
<p><strong>copy(src, dest, [options], callback)</strong></p>
<p>Copy a file or directory. The directory can have contents. Like <cite>cp -r</cite>.</p>
<p>Options:
clobber (boolean): overwrite existing file or directory
preserveTimestamps (boolean): will set last modification and access times to the ones of the original source files, default is <cite>false</cite>.</p>
<p>Sync: <cite>copySync()</cite></p>
<p>Examples:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<dl class="docutils">
<dt>fs.copy(&#8216;/tmp/myfile&#8217;, &#8216;/tmp/mynewfile&#8217;, function (err) {</dt>
<dd>if (err) return console.error(err)
console.log(&#8220;success!&#8221;)</dd>
</dl>
<p>}) // copies file</p>
<dl class="docutils">
<dt>fs.copy(&#8216;/tmp/mydir&#8217;, &#8216;/tmp/mynewdir&#8217;, function (err) {</dt>
<dd>if (err) return console.error(err)
console.log(&#8216;success!&#8217;)</dd>
</dl>
<p>}) // copies directory, even if it has subdirectories or files
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>### createOutputStream(file, [options])</p>
<p>Exactly like <cite>createWriteStream</cite>, but if the directory does not exist, it&#8217;s created.</p>
<p>Examples:</p>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>// if /tmp/some does not exist, it is created
var ws = fs.createOutputStream(&#8216;/tmp/some/file.txt&#8217;)
ws.write(&#8216;hellon&#8217;)
<a href="#id13"><span class="problematic" id="id14">``</span></a><a href="#id15"><span class="problematic" id="id16">`</span></a></p>
<p>Note on naming: you&#8217;ll notice that fs-extra has some methods like <cite>fs.outputJson</cite>, <cite>fs.outputFile</cite>, etc that use the
word <cite>output</cite> to denote that if the containing directory does not exist, it should be created. If you can think of a
better succinct nomenclature for these methods, please open an issue for discussion. Thanks.</p>
<p>### emptyDir(dir, [callback])</p>
<p>Ensures that a directory is empty. If the directory does not exist, it is created. The directory itself is not deleted.</p>
<p>Alias: <cite>emptydir()</cite></p>
<p>Sync: <cite>emptyDirSync()</cite>, <cite>emptydirSync()</cite></p>
<p>Example:</p>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>// assume this directory has a lot of files and folders
fs.emptyDir(&#8216;/tmp/some/dir&#8217;, function (err) {</p>
<blockquote>
<div>if (!err) console.log(&#8216;success!&#8217;)</div></blockquote>
<div class="section" id="id21">
<h3>})<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>### ensureFile(file, callback)</p>
<p>Ensures that the file exists. If the file that is requested to be created is in directories that do not exist, these directories are created. If the file already exists, it is <strong>NOT MODIFIED</strong>.</p>
<p>Alias: <cite>createFile()</cite></p>
<p>Sync: <cite>createFileSync()</cite>,`ensureFileSync()`</p>
<p>Example:</p>
<p><a href="#id22"><span class="problematic" id="id23">``</span></a><a href="#id24"><span class="problematic" id="id25">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>var file = &#8216;/tmp/this/path/does/not/exist/file.txt&#8217;
fs.ensureFile(file, function (err) {</p>
<blockquote>
<div>console.log(err) // =&gt; null
// file has now been created, including the directory it is to be placed in</div></blockquote>
</div>
<div class="section" id="id26">
<h3>})<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p>### ensureDir(dir, callback)</p>
<p>Ensures that the directory exists. If the directory structure does not exist, it is created.</p>
<p>Sync: <cite>ensureDirSync()</cite></p>
<p>Example:</p>
<p><a href="#id27"><span class="problematic" id="id28">``</span></a><a href="#id29"><span class="problematic" id="id30">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>var dir = &#8216;/tmp/this/path/does/not/exist&#8217;
fs.ensureDir(dir, function (err) {</p>
<blockquote>
<div>console.log(err) // =&gt; null
// dir has now been created, including the directory it is to be placed in</div></blockquote>
</div>
<div class="section" id="id31">
<h3>})<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p>### ensureLink(srcpath, dstpath, callback)</p>
<p>Ensures that the link exists. If the directory structure does not exist, it is created.</p>
<p>Sync: <cite>ensureLinkSync()</cite></p>
<p>Example:</p>
<p><a href="#id32"><span class="problematic" id="id33">``</span></a><a href="#id34"><span class="problematic" id="id35">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>var srcpath = &#8216;/tmp/file.txt&#8217;
var dstpath = &#8216;/tmp/this/path/does/not/exist/file.txt&#8217;
fs.ensureLink(srcpath, dstpath, function (err) {</p>
<blockquote>
<div>console.log(err) // =&gt; null
// link has now been created, including the directory it is to be placed in</div></blockquote>
</div>
<div class="section" id="id36">
<h3>})<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p>### ensureSymlink(srcpath, dstpath, [type], callback)</p>
<p>Ensures that the symlink exists. If the directory structure does not exist, it is created.</p>
<p>Sync: <cite>ensureSymlinkSync()</cite></p>
<p>Example:</p>
<p><a href="#id37"><span class="problematic" id="id38">``</span></a><a href="#id39"><span class="problematic" id="id40">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<p>var srcpath = &#8216;/tmp/file.txt&#8217;
var dstpath = &#8216;/tmp/this/path/does/not/exist/file.txt&#8217;
fs.ensureSymlink(srcpath, dstpath, function (err) {</p>
<blockquote>
<div>console.log(err) // =&gt; null
// symlink has now been created, including the directory it is to be placed in</div></blockquote>
</div>
<div class="section" id="id41">
<h3>})<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p>### mkdirs(dir, callback)</p>
<p>Creates a directory. If the parent hierarchy doesn&#8217;t exist, it&#8217;s created. Like <cite>mkdir -p</cite>.</p>
<p>Alias: <cite>mkdirp()</cite></p>
<p>Sync: <cite>mkdirsSync()</cite> / <cite>mkdirpSync()</cite></p>
<p>Examples:</p>
<p><a href="#id42"><span class="problematic" id="id43">``</span></a><a href="#id44"><span class="problematic" id="id45">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<dl class="docutils">
<dt>fs.mkdirs(&#8216;/tmp/some/long/path/that/prob/doesnt/exist&#8217;, function (err) {</dt>
<dd>if (err) return console.error(err)
console.log(&#8220;success!&#8221;)</dd>
</dl>
<p>})</p>
<p>fs.mkdirsSync(&#8216;/tmp/another/path&#8217;)
<a href="#id46"><span class="problematic" id="id47">``</span></a><a href="#id48"><span class="problematic" id="id49">`</span></a></p>
<p>### move(src, dest, [options], callback)</p>
<p>Moves a file or directory, even across devices.</p>
<p>Options:
clobber (boolean): overwrite existing file or directory
limit (number): number of concurrent moves, see ncp for more information</p>
<p>Example:</p>
<p><a href="#id50"><span class="problematic" id="id51">``</span></a><a href="#id52"><span class="problematic" id="id53">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<dl class="docutils">
<dt>fs.move(&#8216;/tmp/somefile&#8217;, &#8216;/tmp/does/not/exist/yet/somefile&#8217;, function (err) {</dt>
<dd>if (err) return console.error(err)
console.log(&#8220;success!&#8221;)</dd>
</dl>
</div>
<div class="section" id="id54">
<h3>})<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<p>### outputFile(file, data, callback)</p>
<p>Almost the same as <cite>writeFile</cite> (i.e. it [overwrites](<a class="reference external" href="http://pages.citebite.com/v2o5n8l2f5reb">http://pages.citebite.com/v2o5n8l2f5reb</a>)), except that if the parent directory does not exist, it&#8217;s created.</p>
<p>Sync: <cite>outputFileSync()</cite></p>
<p>Example:</p>
<p><a href="#id55"><span class="problematic" id="id56">``</span></a><a href="#id57"><span class="problematic" id="id58">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)
var file = &#8216;/tmp/this/path/does/not/exist/file.txt&#8217;</p>
<dl class="docutils">
<dt>fs.outputFile(file, &#8216;hello!&#8217;, function (err) {</dt>
<dd><p class="first">console.log(err) // =&gt; null</p>
<dl class="docutils">
<dt>fs.readFile(file, &#8216;utf8&#8217;, function (err, data) {</dt>
<dd>console.log(data) // =&gt; hello!</dd>
</dl>
<p class="last">})</p>
</dd>
</dl>
</div>
<div class="section" id="id59">
<h3>})<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<p>### outputJson(file, data, [options], callback)</p>
<p>Almost the same as <cite>writeJson</cite>, except that if the directory does not exist, it&#8217;s created.
<cite>options</cite> are what you&#8217;d pass to [<cite>jsonFile.writeFile()</cite>](<a class="reference external" href="https://github.com/jprichardson/node-jsonfile#writefilefilename-options-callback">https://github.com/jprichardson/node-jsonfile#writefilefilename-options-callback</a>).</p>
<p>Alias: <cite>outputJSON()</cite></p>
<p>Sync: <cite>outputJsonSync()</cite>, <cite>outputJSONSync()</cite></p>
<p>Example:</p>
<p><a href="#id60"><span class="problematic" id="id61">``</span></a><a href="#id62"><span class="problematic" id="id63">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)
var file = &#8216;/tmp/this/path/does/not/exist/file.txt&#8217;</p>
<dl class="docutils">
<dt>fs.outputJson(file, {name: &#8216;JP&#8217;}, function (err) {</dt>
<dd><p class="first">console.log(err) // =&gt; null</p>
<dl class="docutils">
<dt>fs.readJson(file, function(err, data) {</dt>
<dd>console.log(data.name) // =&gt; JP</dd>
</dl>
<p class="last">})</p>
</dd>
</dl>
</div>
<div class="section" id="id64">
<h3>})<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h3>
<p>### readJson(file, [options], callback)</p>
<p>Reads a JSON file and then parses it into an object. <cite>options</cite> are the same
that you&#8217;d pass to [<cite>jsonFile.readFile</cite>](<a class="reference external" href="https://github.com/jprichardson/node-jsonfile#readfilefilename-options-callback">https://github.com/jprichardson/node-jsonfile#readfilefilename-options-callback</a>).</p>
<p>Alias: <cite>readJSON()</cite></p>
<p>Sync: <cite>readJsonSync()</cite>, <cite>readJSONSync()</cite></p>
<p>Example:</p>
<p><a href="#id65"><span class="problematic" id="id66">``</span></a><a href="#id67"><span class="problematic" id="id68">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<dl class="docutils">
<dt>fs.readJson(&#8216;./package.json&#8217;, function (err, packageObj) {</dt>
<dd>console.log(packageObj.version) // =&gt; 0.1.3</dd>
</dl>
</div>
<div class="section" id="id69">
<h3>})<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<p><cite>readJsonSync()</cite> can take a <cite>throws</cite> option set to <cite>false</cite> and it won&#8217;t throw if the JSON is invalid. Example:</p>
<p><a href="#id70"><span class="problematic" id="id71">``</span></a><a href="#id72"><span class="problematic" id="id73">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)
var file = path.join(&#8216;/tmp/some-invalid.json&#8217;)
var data = &#8216;{not valid JSON&#8217;
fs.writeFileSync(file, data)</p>
<p>var obj = fs.readJsonSync(file, {throws: false})
console.log(obj) // =&gt; null
<a href="#id74"><span class="problematic" id="id75">``</span></a><a href="#id76"><span class="problematic" id="id77">`</span></a></p>
<p>### remove(dir, callback)</p>
<p>Removes a file or directory. The directory can have contents. Like <cite>rm -rf</cite>.</p>
<p>Alias: <cite>delete()</cite></p>
<p>Sync: <cite>removeSync()</cite> / <cite>deleteSync()</cite></p>
<p>Examples:</p>
<p><a href="#id78"><span class="problematic" id="id79">``</span></a><a href="#id80"><span class="problematic" id="id81">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)</p>
<dl class="docutils">
<dt>fs.remove(&#8216;/tmp/myfile&#8217;, function (err) {</dt>
<dd><p class="first">if (err) return console.error(err)</p>
<p class="last">console.log(&#8216;success!&#8217;)</p>
</dd>
</dl>
<p>})</p>
<p>fs.removeSync(&#8216;/home/jprichardson&#8217;) //I just deleted my entire HOME directory.
<a href="#id82"><span class="problematic" id="id83">``</span></a><a href="#id84"><span class="problematic" id="id85">`</span></a></p>
<p>### writeJson(file, object, [options], callback)</p>
<p>Writes an object to a JSON file. <cite>options</cite> are the same that
you&#8217;d pass to [<cite>jsonFile.writeFile()</cite>](<a class="reference external" href="https://github.com/jprichardson/node-jsonfile#writefilefilename-options-callback">https://github.com/jprichardson/node-jsonfile#writefilefilename-options-callback</a>).</p>
<p>Alias: <cite>writeJSON()</cite></p>
<p>Sync: <cite>writeJsonSync()</cite>, <cite>writeJSONSync()</cite></p>
<p>Example:</p>
<p><a href="#id86"><span class="problematic" id="id87">``</span></a><a href="#id88"><span class="problematic" id="id89">`</span></a>js
var fs = require(&#8216;fs-extra&#8217;)
fs.writeJson(&#8216;./package.json&#8217;, {name: &#8216;fs-extra&#8217;}, function (err) {</p>
<blockquote>
<div>console.log(err)</div></blockquote>
</div>
<div class="section" id="id90">
<h3>})<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="third-party">
<h2>Third Party<a class="headerlink" href="#third-party" title="Permalink to this headline">¶</a></h2>
<p>### Promises</p>
<p>Use [Bluebird](<a class="reference external" href="https://github.com/petkaantonov/bluebird">https://github.com/petkaantonov/bluebird</a>). See <a class="reference external" href="https://github.com/petkaantonov/bluebird/blob/master/API.md#promisification">https://github.com/petkaantonov/bluebird/blob/master/API.md#promisification</a>. <cite>fs-extra</cite> is
explicitly listed as supported.</p>
<p><code class="docutils literal"><span class="pre">`js</span>
<span class="pre">var</span> <span class="pre">Promise</span> <span class="pre">=</span> <span class="pre">require('bluebird')</span>
<span class="pre">var</span> <span class="pre">fs</span> <span class="pre">=</span> <span class="pre">Promise.promisifyAll(require('fs-extra'))</span>
<span class="pre">`</span></code></p>
<p>Or you can use the package [<cite>fs-extra-promise</cite>](<a class="reference external" href="https://github.com/overlookmotel/fs-extra-promise">https://github.com/overlookmotel/fs-extra-promise</a>) that marries the two together.</p>
<p>### TypeScript</p>
<p>If you like TypeScript, you can use <cite>fs-extra</cite> with it: <a class="reference external" href="https://github.com/borisyankov/DefinitelyTyped/tree/master/fs-extra">https://github.com/borisyankov/DefinitelyTyped/tree/master/fs-extra</a></p>
<p>### File / Directory Watching</p>
<p>If you want to watch for changes to files or directories, then you should use [chokidar](<a class="reference external" href="https://github.com/paulmillr/chokidar">https://github.com/paulmillr/chokidar</a>).</p>
<p>### Misc.</p>
<ul class="simple">
<li>[mfs](<a class="reference external" href="https://github.com/cadorn/mfs">https://github.com/cadorn/mfs</a>) - Monitor your fs-extra calls.</li>
</ul>
</div>
<div class="section" id="hacking-on-fs-extra">
<h2>Hacking on fs-extra<a class="headerlink" href="#hacking-on-fs-extra" title="Permalink to this headline">¶</a></h2>
<p>Wanna hack on <cite>fs-extra</cite>? Great! Your help is needed! [fs-extra is one of the most depended upon Node.js packages](<a class="reference external" href="http://nodei.co/npm/fs-extra.png?downloads=true&amp;downloadRank=true&amp;stars=true">http://nodei.co/npm/fs-extra.png?downloads=true&amp;downloadRank=true&amp;stars=true</a>). This project
uses [JavaScript Standard Style](<a class="reference external" href="https://github.com/feross/standard">https://github.com/feross/standard</a>) - if the name or style choices bother you,
you&#8217;re gonna have to get over it :) If <cite>standard</cite> is good enough for <cite>npm</cite>, it&#8217;s good enough for <cite>fs-extra</cite>.</p>
<p>[![js-standard-style](<a class="reference external" href="https://cdn.rawgit.com/feross/standard/master/badge.svg)](https://github.com/feross/standard">https://cdn.rawgit.com/feross/standard/master/badge.svg)](https://github.com/feross/standard</a>)</p>
<p>What&#8217;s needed?
- First, take a look at existing issues. Those are probably going to be where the priority lies.
- More tests for edge cases. Specifically on different platforms. There can never be enough tests.
- Really really help with the Windows tests. See appveyor outputs for more info.
- Improve test coverage. See coveralls output for more info.
- A directory walker. Probably this one: <a class="reference external" href="https://github.com/thlorenz/readdirp">https://github.com/thlorenz/readdirp</a> imported into <cite>fs-extra</cite>.
- After the directory walker is integrated, any function that needs to traverse directories like
<cite>copy</cite>, <cite>remove</cite>, or <cite>mkdirs</cite> should be built on top of it.
- After the aforementioned functions are built on the directory walker, <cite>fs-extra</cite> should then explicitly
support wildcards.</p>
<p>Note: If you make any big changes, <strong>you should definitely post an issue for discussion first.</strong></p>
</div>
<div class="section" id="naming">
<h2>Naming<a class="headerlink" href="#naming" title="Permalink to this headline">¶</a></h2>
<p>I put a lot of thought into the naming of these functions. Inspired by &#64;coolaj86&#8217;s request. So he deserves much of the credit for raising the issue. See discussion(s) here:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/jprichardson/node-fs-extra/issues/2">https://github.com/jprichardson/node-fs-extra/issues/2</a></li>
<li><a class="reference external" href="https://github.com/flatiron/utile/issues/11">https://github.com/flatiron/utile/issues/11</a></li>
<li><a class="reference external" href="https://github.com/ryanmcgrath/wrench-js/issues/29">https://github.com/ryanmcgrath/wrench-js/issues/29</a></li>
<li><a class="reference external" href="https://github.com/substack/node-mkdirp/issues/17">https://github.com/substack/node-mkdirp/issues/17</a></li>
</ul>
<p>First, I believe that in as many cases as possible, the [Node.js naming schemes](<a class="reference external" href="http://nodejs.org/api/fs.html">http://nodejs.org/api/fs.html</a>) should be chosen. However, there are problems with the Node.js own naming schemes.</p>
<p>For example, <cite>fs.readFile()</cite> and <cite>fs.readdir()</cite>: the <strong>F</strong> is capitalized in <em>File</em> and the <strong>d</strong> is not capitalized in <em>dir</em>. Perhaps a bit pedantic, but they should still be consistent. Also, Node.js has chosen a lot of POSIX naming schemes, which I believe is great. See: <cite>fs.mkdir()</cite>, <cite>fs.rmdir()</cite>, <cite>fs.chown()</cite>, etc.</p>
<p>We have a dilemma though. How do you consistently name methods that perform the following POSIX commands: <cite>cp</cite>, <cite>cp -r</cite>, <cite>mkdir -p</cite>, and <cite>rm -rf</cite>?</p>
<p>My perspective: when in doubt, err on the side of simplicity. A directory is just a hierarchical grouping of directories and files. Consider that for a moment. So when you want to copy it or remove it, in most cases you&#8217;ll want to copy or remove all of its contents. When you want to create a directory, if the directory that it&#8217;s suppose to be contained in does not exist, then in most cases you&#8217;ll want to create that too.</p>
<p>So, if you want to remove a file or a directory regardless of whether it has contents, just call <cite>fs.remove(path)</cite> or its alias <cite>fs.delete(path)</cite>. If you want to copy a file or a directory whether it has contents, just call <cite>fs.copy(source, destination)</cite>. If you want to create a directory regardless of whether its parent directories exist, just call <cite>fs.mkdirs(path)</cite> or <cite>fs.mkdirp(path)</cite>.</p>
</div>
<div class="section" id="credit">
<h2>Credit<a class="headerlink" href="#credit" title="Permalink to this headline">¶</a></h2>
<p><cite>fs-extra</cite> wouldn&#8217;t be possible without using the modules from the following authors:</p>
<ul class="simple">
<li>[Isaac Shlueter](<a class="reference external" href="https://github.com/isaacs">https://github.com/isaacs</a>)</li>
<li>[Charlie McConnel](<a class="reference external" href="https://github.com/avianflu">https://github.com/avianflu</a>)</li>
<li>[James Halliday](<a class="reference external" href="https://github.com/substack">https://github.com/substack</a>)</li>
<li>[Andrew Kelley](<a class="reference external" href="https://github.com/andrewrk">https://github.com/andrewrk</a>)</li>
</ul>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Licensed under MIT</p>
<p>Copyright (c) 2011-2015 [JP Richardson](<a class="reference external" href="https://github.com/jprichardson">https://github.com/jprichardson</a>)</p>
<p>[1]: <a class="reference external" href="http://nodejs.org/docs/latest/api/fs.html">http://nodejs.org/docs/latest/api/fs.html</a></p>
<p>[jsonfile]: <a class="reference external" href="https://github.com/jprichardson/node-jsonfile">https://github.com/jprichardson/node-jsonfile</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © NFLabs. All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>