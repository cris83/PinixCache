

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>}; &mdash; PINIX Cache Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../../../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PINIX Cache Docs 1.0 documentation" href="../../../../../../../../../../index.html"/> 

  
  <script src="../../../../../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../../../../../index.html" class="icon icon-home"> PINIX Cache Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Global.html">Global</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../Origin.html">Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../VHost.html">VHost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../../../VHost-Proxy.html">Virtual Host Proxy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../../../../../../index.html">PINIX Cache Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../../../../../../index.html">Docs</a> &raquo;</li>
      
    <li>};</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../../../../../_sources/_themes/sphinx_rtd_theme-master/node_modules/grunt-contrib-jade/node_modules/jade/node_modules/transformers/node_modules/promise/Readme.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p>[![Build Status](<a class="reference external" href="https://travis-ci.org/then/promise.png)](https://travis-ci.org/then/promise">https://travis-ci.org/then/promise.png)](https://travis-ci.org/then/promise</a>)
&lt;a href=&#8221;<a class="reference external" href="http://promises-aplus.github.com/promises-spec">http://promises-aplus.github.com/promises-spec</a>&#8220;&gt;&lt;img src=&#8221;<a class="reference external" href="http://promises-aplus.github.com/promises-spec/assets/logo-small.png">http://promises-aplus.github.com/promises-spec/assets/logo-small.png</a>&#8221; align=&#8221;right&#8221; /&gt;&lt;/a&gt;
# promise</p>
<blockquote>
<div><p>This a bare bones [Promises/A+](<a class="reference external" href="http://promises-aplus.github.com/promises-spec/">http://promises-aplus.github.com/promises-spec/</a>) implementation.</p>
<p>It is designed to get the basics spot on correct, so that you can build extended promise implementations on top of it.</p>
</div></blockquote>
<p>## Installation</p>
<blockquote>
<div><p>Server:</p>
<blockquote>
<div>$ npm install promise</div></blockquote>
<p>Client:</p>
<blockquote>
<div>$ component install then/promise</div></blockquote>
</div></blockquote>
<p>## API</p>
<blockquote>
<div>In the example below shows how you can load the promise library (in a way that works on both client and server).  It then demonstrates creating a promise from scratch.  You simply call <cite>new Promise(fn)</cite>.  There is a complete specification for what is returned by this method in [Promises/A+](<a class="reference external" href="http://promises-aplus.github.com/promises-spec/">http://promises-aplus.github.com/promises-spec/</a>).</div></blockquote>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>javascript
var Promise = require(&#8216;promise&#8217;);</p>
<dl class="docutils">
<dt>var promise = new Promise(function (resolve, reject) {</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>get(&#8216;<a class="reference external" href="http://www.google.com">http://www.google.com</a>&#8216;, function (err, res) {</dt>
<dd>if (err) reject(err);
else resolve(res);</dd>
</dl>
<p>});</p>
</div></blockquote>
<p class="last">});</p>
</dd>
</dl>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
<p>## Extending Promises</p>
<blockquote>
<div>There are three options for extending the promises created by this library.</div></blockquote>
<p>### Inheritance</p>
<blockquote>
<div>You can use inheritance if you want to create your own complete promise library with this as your basic starting point, perfect if you have lots of cool features you want to add.  Here is an example of a promise library called <cite>Awesome</cite>, which is built on top of <cite>Promise</cite> correctly.</div></blockquote>
<p><a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a>javascript
var Promise = require(&#8216;promise&#8217;);
function Awesome(fn) {</p>
<blockquote>
<div>if (!(this instanceof Awesome)) return new Awesome(fn);
Promise.call(this, fn);</div></blockquote>
<p>}
Awesome.prototype = Object.create(Promise.prototype);
Awesome.prototype.constructor = Awesome;</p>
<p>//Awesome extension
Awesome.prototype.spread = function (cb) {</p>
<blockquote>
<div><dl class="docutils">
<dt>return this.then(function (arr) {</dt>
<dd>return cb.apply(this, arr);</dd>
</dl>
<p>})</p>
</div></blockquote>
<div class="section" id="id13">
<h1>};<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div>N.B. if you fail to set the prototype and constructor properly or fail to do Promise.call, things can fail in really subtle ways.</div></blockquote>
<p>### Wrap</p>
<blockquote>
<div>This is the nuclear option, for when you want to start from scratch.  It ensures you won&#8217;t be impacted by anyone who is extending the prototype (see below).</div></blockquote>
<p><a href="#id14"><span class="problematic" id="id15">``</span></a><a href="#id16"><span class="problematic" id="id17">`</span></a>javascript
function Uber(fn) {</p>
<blockquote>
<div>if (!(this instanceof Uber)) return new Uber(fn);
var _prom = new Promise(fn);
this.then = _prom.then;</div></blockquote>
<p>}</p>
<dl class="docutils">
<dt>Uber.prototype.spread = function (cb) {</dt>
<dd><dl class="first docutils">
<dt>return this.then(function (arr) {</dt>
<dd>return cb.apply(this, arr);</dd>
</dl>
<p class="last">})</p>
</dd>
</dl>
</div>
<div class="section" id="id18">
<h1>};<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h1>
<p>### Extending the Prototype</p>
<blockquote>
<div>In general, you should never extend the prototype of this promise implimenation because your extensions could easily conflict with someone elses extensions.  However, this organisation will host a library of extensions which do not conflict with each other, so you can safely enable any of those.  If you think of an extension that we don&#8217;t provide and you want to write it, submit an issue on this repository and (if I agree) I&#8217;ll set you up with a repository and give you permission to commit to it.</div></blockquote>
<p>## License</p>
<blockquote>
<div>MIT</div></blockquote>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © NFLabs. All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>