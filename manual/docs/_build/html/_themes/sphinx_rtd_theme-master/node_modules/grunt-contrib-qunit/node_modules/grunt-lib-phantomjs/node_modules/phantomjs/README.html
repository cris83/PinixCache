

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>phantomjs &mdash; PINIX Cache Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PINIX Cache Docs 1.0 documentation" href="../../../../../../../../index.html"/> 

  
  <script src="../../../../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../../../../../index.html" class="icon icon-home"> PINIX Cache Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../Global.html">Global</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../Origin.html">Origin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../VHost.html">VHost</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../../VHost-Proxy.html">Virtual Host Proxy</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../../../../index.html">PINIX Cache Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../../../../index.html">Docs</a> &raquo;</li>
      
    <li>phantomjs</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../../../../_sources/_themes/sphinx_rtd_theme-master/node_modules/grunt-contrib-qunit/node_modules/grunt-lib-phantomjs/node_modules/phantomjs/README.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="phantomjs">
<h1>phantomjs<a class="headerlink" href="#phantomjs" title="Permalink to this headline">¶</a></h1>
<p>An NPM wrapper for [PhantomJS](<a class="reference external" href="http://phantomjs.org/">http://phantomjs.org/</a>), headless webkit with JS API.</p>
<p>[![Build Status](<a class="reference external" href="https://travis-ci.org/Medium/phantomjs.svg?branch=master)](https://travis-ci.org/Medium/phantomjs">https://travis-ci.org/Medium/phantomjs.svg?branch=master)](https://travis-ci.org/Medium/phantomjs</a>)</p>
<div class="section" id="building-and-installing">
<h2>Building and Installing<a class="headerlink" href="#building-and-installing" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">`shell</span>
<span class="pre">npm</span> <span class="pre">install</span> <span class="pre">phantomjs</span>
<span class="pre">`</span></code></p>
<p>Or grab the source and</p>
<p><code class="docutils literal"><span class="pre">`shell</span>
<span class="pre">node</span> <span class="pre">./install.js</span>
<span class="pre">`</span></code></p>
<p>What this installer is really doing is just grabbing a particular &#8220;blessed&#8221; (by
this module) version of Phantom. As new versions of Phantom are released
and vetted, this module will be updated accordingly.</p>
<p>The package has been set up to fetch and run Phantom for MacOS (darwin),
Linux based platforms (as identified by nodejs), and &#8211; as of version 0.2.0 &#8211;
Windows (thanks to [Domenic Denicola](<a class="reference external" href="https://github.com/domenic">https://github.com/domenic</a>)).  If you
spot any platform weirdnesses, let us know or send a patch.</p>
</div>
<div class="section" id="running">
<h2>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">`shell</span>
<span class="pre">bin/phantomjs</span> <span class="pre">[phantom</span> <span class="pre">arguments]</span>
<span class="pre">`</span></code></p>
<p>And npm will install a link to the binary in <cite>node_modules/.bin</cite> as
it is wont to do.</p>
</div>
<div class="section" id="running-via-node">
<h2>Running via node<a class="headerlink" href="#running-via-node" title="Permalink to this headline">¶</a></h2>
<p>The package exports a <cite>path</cite> string that contains the path to the
phantomjs binary/executable.</p>
<p>Below is an example of using this package via node.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>javascript
var path = require(&#8216;path&#8217;)
var childProcess = require(&#8216;child_process&#8217;)
var phantomjs = require(&#8216;phantomjs&#8217;)
var binPath = phantomjs.path</p>
<dl class="docutils">
<dt>var childArgs = [</dt>
<dd>path.join(__dirname, &#8216;phantomjs-script.js&#8217;),
&#8216;some other argument (passed to phantomjs script)&#8217;</dd>
</dl>
<p>]</p>
<dl class="docutils">
<dt>childProcess.execFile(binPath, childArgs, function(err, stdout, stderr) {</dt>
<dd>// handle results</dd>
</dl>
<p>})</p>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>
</div>
<div class="section" id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h2>
<p>The major and minor number tracks the version of PhantomJS that will be
installed. The patch number is incremented when there is either an installer
update or a patch build of the phantom binary.</p>
</div>
<div class="section" id="deciding-where-to-get-phantomjs">
<h2>Deciding Where To Get PhantomJS<a class="headerlink" href="#deciding-where-to-get-phantomjs" title="Permalink to this headline">¶</a></h2>
<p>By default, this package will download phantomjs from <cite>https://bitbucket.org/ariya/phantomjs/downloads</cite>.
This should work fine for most people.</p>
<p>##### Downloading from a custom URL</p>
<p>If bitbucket is down, or the Great Firewall is blocking bitbucket, you may need to use
a download mirror. To set a mirror, set npm config property <cite>phantomjs_cdnurl</cite>.
Default is <a href="#id9"><span class="problematic" id="id10">``</span></a>.</p>
<p><code class="docutils literal"><span class="pre">`shell</span>
<span class="pre">npm</span> <span class="pre">install</span> <span class="pre">phantomjs</span> <span class="pre">--phantomjs_cdnurl=http://cnpmjs.org/downloads</span>
<span class="pre">`</span></code></p>
<p>Or add property into your <cite>.npmrc</cite> file (<a class="reference external" href="https://www.npmjs.org/doc/files/npmrc.html">https://www.npmjs.org/doc/files/npmrc.html</a>)</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">phantomjs_cdnurl=http://cnpmjs.org/downloads</span>
<span class="pre">`</span></code></p>
<p>Another option is to use PATH variable <cite>PHANTOMJS_CDNURL</cite>.
<code class="docutils literal"><span class="pre">`shell</span>
<span class="pre">PHANTOMJS_CDNURL=http://cnpmjs.org/downloads</span> <span class="pre">npm</span> <span class="pre">install</span> <span class="pre">phantomjs</span>
<span class="pre">`</span></code></p>
<p>##### Using PhantomJS from disk</p>
<p>If you plan to install phantomjs many times on a single machine, you can
install the <cite>phantomjs</cite> binary on PATH. The installer will automatically detect
and use that for non-global installs.</p>
</div>
<div class="section" id="a-note-on-phantomjs">
<h2>A Note on PhantomJS<a class="headerlink" href="#a-note-on-phantomjs" title="Permalink to this headline">¶</a></h2>
<p>PhantomJS is not a library for NodeJS.  It&#8217;s a separate environment and code
written for node is unlikely to be compatible.  In particular PhantomJS does
not expose a Common JS package loader.</p>
<p>This is an _NPM <a href="#id11"><span class="problematic" id="id12">wrapper_</span></a> and can be used to conveniently make Phantom available
It is not a Node JS wrapper.</p>
<p>I have had reasonable experiences writing standalone Phantom scripts which I
then drive from within a node program by spawning phantom in a child process.</p>
<p>Read the PhantomJS FAQ for more details: <a class="reference external" href="http://phantomjs.org/faq.html">http://phantomjs.org/faq.html</a></p>
<p>### Linux Note</p>
<p>An extra note on Linux usage, from the PhantomJS download page:</p>
<blockquote>
<div>&gt; This package is built on CentOS 5.8. It should run successfully on Lucid or
&gt; more modern systems (including other distributions). There is no requirement
&gt; to install Qt, WebKit, or any other libraries. It is however expected that
&gt; some base libraries necessary for rendering (FreeType, Fontconfig) and the
&gt; basic font files are available in the system.</div></blockquote>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>##### Installation fails with <cite>spawn ENOENT</cite></p>
<p>This is NPM&#8217;s way of telling you that it was not able to start a process. It usually means:</p>
<ul class="simple">
<li><cite>node</cite> is not on your PATH, or otherwise not correctly installed.</li>
<li><cite>tar</cite> is not on your PATH. This package expects <cite>tar</cite> on your PATH on Linux-based platforms.</li>
</ul>
<p>Check your specific error message for more information.</p>
<p>##### Installation fails with <cite>Error: EPERM</cite> or <cite>operation not permitted</cite> or <cite>permission denied</cite></p>
<p>This error means that NPM was not able to install phantomjs to the file system. There are three
major reasons why this could happen:</p>
<ul class="simple">
<li>You don&#8217;t have write access to the installation directory.</li>
<li>The permissions in the NPM cache got messed up, and you need to run <cite>npm cache clean</cite> to fix them.</li>
<li>You have over-zealous anti-virus software installed, and it&#8217;s blocking file system writes.</li>
</ul>
<p>##### Installation fails with <cite>Error: read ECONNRESET</cite> or <cite>Error: connect ETIMEDOUT</cite></p>
<p>This error means that something went wrong with your internet connection, and the installer
was not able to download the PhantomJS binary for your platform. Please try again.</p>
<p>##### I tried again, but I get <cite>ECONNRESET</cite> or <cite>ETIMEDOUT</cite> consistently.</p>
<p>Do you live in China, or a country with an authoritarian government? We&#8217;ve seen problems where
the GFW or local ISP blocks bitbucket, preventing the installer from downloading the binary.</p>
<p>Try visiting the [the download page](<a class="reference external" href="http://cdn.bitbucket.org/ariya/phantomjs/downloads">http://cdn.bitbucket.org/ariya/phantomjs/downloads</a>) manually.
If that page is blocked, you can try using a different CDN with the <cite>PHANTOMJS_CDNURL</cite>
env variable described above.</p>
<p>##### I am behind a corporate proxy that uses self-signed SSL certificates to intercept encrypted traffic.</p>
<p>You can tell NPM and the PhantomJS installer to skip validation of ssl keys with NPM&#8217;s
[strict-ssl](<a class="reference external" href="https://www.npmjs.org/doc/misc/npm-config.html#strict-ssl">https://www.npmjs.org/doc/misc/npm-config.html#strict-ssl</a>) setting:</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">npm</span> <span class="pre">set</span> <span class="pre">strict-ssl</span> <span class="pre">false</span>
<span class="pre">`</span></code></p>
<p>WARNING: Turning off <cite>strict-ssl</cite> leaves you vulnerable to attackers reading
your encrypted traffic, so run this at your own risk!</p>
<p>##### I tried everything, but my network is b0rked. What do I do?</p>
<p>If you install PhantomJS manually, and put it on PATH, the installer will try to
use the manually-installed binaries.</p>
<p>##### I&#8217;m on Debian or Ubuntu, and the installer failed because it couldn&#8217;t find <cite>node</cite></p>
<p>Some Linux distros tried to rename <cite>node</cite> to <cite>nodejs</cite> due to a package
conflict. This is a non-portable change, and we do not try to support this. The
[official documentation](<a class="reference external" href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os">https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os</a>)
recommends that you run <cite>apt-get install nodejs-legacy</cite> to symlink <cite>node</cite> to <cite>nodejs</cite>
on those platforms, or many NodeJS programs won&#8217;t work properly.</p>
</div>
<div class="section" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>Questions, comments, bug reports, and pull requests are all welcome.  Submit them at
[the project on GitHub](<a class="reference external" href="https://github.com/Obvious/phantomjs/">https://github.com/Obvious/phantomjs/</a>).  If you haven&#8217;t contributed to an
[Obvious](<a class="reference external" href="http://github.com/Obvious/">http://github.com/Obvious/</a>) project before please head over to the
[Open Source Project](<a class="reference external" href="https://github.com/Obvious/open-source#note-to-external-contributors">https://github.com/Obvious/open-source#note-to-external-contributors</a>) and fill
out an OCLA (it should be pretty painless).</p>
<p>Bug reports that include steps-to-reproduce (including code) are the
best. Even better, make them in the form of pull requests.</p>
</div>
<div class="section" id="author">
<h2>Author<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h2>
<p>[Dan Pupius](<a class="reference external" href="https://github.com/dpup">https://github.com/dpup</a>)
([personal website](<a class="reference external" href="http://pupius.co.uk">http://pupius.co.uk</a>)), supported by
[The Obvious Corporation](<a class="reference external" href="http://obvious.com/">http://obvious.com/</a>).</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Copyright 2012 [The Obvious Corporation](<a class="reference external" href="http://obvious.com/">http://obvious.com/</a>).</p>
<p>Licensed under the Apache License, Version 2.0.
See the top-level file <cite>LICENSE.txt</cite> and
(<a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>).</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © NFLabs. All rights reserved..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>